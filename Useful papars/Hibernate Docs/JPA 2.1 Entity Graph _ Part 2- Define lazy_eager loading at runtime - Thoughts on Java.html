<!DOCTYPE html>
<!-- saved from url=(0067)https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/ -->
<html lang="en-US" prefix="og: http://ogp.me/ns#"><style type="text/css" id="night-mode-pro-style"></style><link type="text/css" rel="stylesheet" id="night-mode-pro-link"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1">
<link type="text/css" media="all" href="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/autoptimize_48bf148c069c79bb3d616114e9793e55.css" rel="stylesheet"><link type="text/css" media="screen" href="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/autoptimize_c619e81ce0ce2131dc6ecd2a2ebbc649.css" rel="stylesheet"><title>JPA 2.1 Entity Graph : Part 2- Define lazy/eager loading at runtime - Thoughts on Java</title>

<!-- This site is optimized with the Yoast SEO plugin v7.9.1 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="JPA 2.1 Entity Graph : Part 2- Define lazy/eager loading at runtime - Thoughts on Java">
<meta property="og:description" content="This is my second post on Entity Graphs, one of the features introduced with JPA 2.1. The first post described the usage of named entity graphs. These can be used to define a graph of entities and/or attributes at compile time that shall be fetched with a find or query method. Dynamic entity graphs do to [...]">
<meta property="og:url" content="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/">
<meta property="og:site_name" content="Thoughts on Java">
<meta property="article:publisher" content="https://www.facebook.com/thoughtsonjava">
<meta property="article:section" content="JavaEE7">
<meta property="article:published_time" content="2014-04-07T21:12:00+02:00">
<meta property="article:modified_time" content="2018-08-16T14:36:08+02:00">
<meta property="og:updated_time" content="2018-08-16T14:36:08+02:00">
<meta property="og:image" content="https://www.thoughts-on-java.org/wp-content/uploads/2014/04/JPA-2.1-Entity-Graph-–-Part-2_-Define-lazy_eager-loading-at-runtime.png">
<meta property="og:image:secure_url" content="https://www.thoughts-on-java.org/wp-content/uploads/2014/04/JPA-2.1-Entity-Graph-–-Part-2_-Define-lazy_eager-loading-at-runtime.png">
<meta property="og:image:width" content="810">
<meta property="og:image:height" content="450">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:description" content="This is my second post on Entity Graphs, one of the features introduced with JPA 2.1. The first post described the usage of named entity graphs. These can be used to define a graph of entities and/or attributes at compile time that shall be fetched with a find or query method. Dynamic entity graphs do to [...]">
<meta name="twitter:title" content="JPA 2.1 Entity Graph : Part 2- Define lazy/eager loading at runtime - Thoughts on Java">
<meta name="twitter:site" content="@thjanssen123">
<meta name="twitter:image" content="https://www.thoughts-on-java.org/wp-content/uploads/2014/04/JPA-2.1-Entity-Graph-–-Part-2_-Define-lazy_eager-loading-at-runtime.png">
<meta name="twitter:creator" content="@thjanssen123">
<script src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/f(5).txt"></script><script src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/ca-pub-3522391863832336.js.download"></script><script type="text/javascript" async="" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/js"></script><script async="" src="https://www.google-analytics.com/analytics.js"></script><script src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/448289558697414" async=""></script><script async="" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/fbevents.js.download"></script><script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Person","url":"https:\/\/www.thoughts-on-java.org\/","sameAs":["https:\/\/www.facebook.com\/thoughtsonjava","https:\/\/www.linkedin.com\/in\/thorbenjanssen\/","https:\/\/www.youtube.com\/channel\/UCYeDPubBiFCZXIOgGYoyADw","https:\/\/twitter.com\/thjanssen123"],"@id":"#person","name":"Thorben Janssen"}</script>
<!-- / Yoast SEO plugin. -->

<link rel="dns-prefetch" href="https://www.thoughts-on-java.org/">
<link rel="dns-prefetch" href="https://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="Thoughts on Java » Feed" href="https://www.thoughts-on-java.org/feed/">
<link rel="alternate" type="application/rss+xml" title="Thoughts on Java » Comments Feed" href="https://www.thoughts-on-java.org/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Thoughts on Java » JPA 2.1 Entity Graph : Part 2- Define lazy/eager loading at runtime Comments Feed" href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.thoughts-on-java.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/wp-emoji-release.min.js.download" type="text/javascript" defer=""></script>
		














<link rel="stylesheet" id="dashicons-css" href="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/dashicons.min.css" type="text/css" media="all">











<!--[if lt IE 9]>
<script type='text/javascript' src='https://www.thoughts-on-java.org/wp-content/themes/genesis/lib/js/html5shiv.min.js?ver=3.7.3'></script>
<![endif]-->


<link rel="https://api.w.org/" href="https://www.thoughts-on-java.org/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.thoughts-on-java.org/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.thoughts-on-java.org/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 4.9.8">
<link rel="shortlink" href="https://www.thoughts-on-java.org/?p=326">
<link rel="alternate" type="application/json+oembed" href="https://www.thoughts-on-java.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F">
<link rel="alternate" type="text/xml+oembed" href="https://www.thoughts-on-java.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F&amp;format=xml">
		
	<link rel="icon" href="https://www.thoughts-on-java.org/wp-content/themes/eleven40-pro/images/favicon.ico">
<link rel="pingback" href="https://www.thoughts-on-java.org/xmlrpc.php">
<meta name="msvalidate.01" content="21E66B77B8A3F8BACEA3DD2A11B8D638">

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '448289558697414'); // Insert your pixel ID here.
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=448289558697414&ev=PageView&noscript=1"
/></noscript>
<!-- DO NOT MODIFY -->
<!-- End Facebook Pixel Code -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44631674-1', 'auto');
  ga('require', 'GTM-P86VVCX');
  ga('send', 'pageview');

</script>

<!-- cookiebot cookie consent-->
<script id="Cookiebot" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/uc.js.download" data-cbid="37a8ce55-c682-4b15-b0bc-f5f3594a3644" type="text/javascript" async=""></script>		
	<style type="text/css" id="CookieConsentStateDisplayStyles">.cookieconsent-optin,.cookieconsent-optin-preferences,.cookieconsent-optin-statistics,.cookieconsent-optin-marketing{display:block;}.cookieconsent-optout-preferences,.cookieconsent-optout-statistics,.cookieconsent-optout-marketing,.cookieconsent-optout{display:none;}</style><link rel="preload" href="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/f(6).txt" as="script"><script type="text/javascript" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/f(6).txt"></script></head>
<body class="post-template-default single single-post postid-326 single-format-standard header-full-width content-sidebar eleven40-pro-blue" itemscope="" itemtype="https://schema.org/WebPage"><div class="site-container"><ul class="genesis-skip-link"><li><a href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/#genesis-nav-primary" class="screen-reader-shortcut"> Skip to primary navigation</a></li><li><a href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/#genesis-content" class="screen-reader-shortcut"> Skip to content</a></li><li><a href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/#genesis-sidebar-primary" class="screen-reader-shortcut"> Skip to primary sidebar</a></li></ul><header class="site-header" itemscope="" itemtype="https://schema.org/WPHeader"><div class="wrap"><div class="title-area"><p class="site-title" itemprop="headline"><a href="https://www.thoughts-on-java.org/">Thoughts on Java</a></p></div><nav class="nav-primary" aria-label="Main" itemscope="" itemtype="https://schema.org/SiteNavigationElement" id="genesis-nav-primary"><div class="wrap"><div class="responsive-menu-icon"></div><ul id="menu-primary-menu" class="menu genesis-nav-menu menu-primary js-superfish responsive-menu sf-js-enabled sf-arrows"><li id="menu-item-14884" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-has-children menu-item-14884"><a href="https://www.thoughts-on-java.org/blog/" itemprop="url" class="sf-with-ul"><span itemprop="name">Blog ▼</span></a>
<ul class="sub-menu">
	<li id="menu-item-14885" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14885"><a href="https://www.thoughts-on-java.org/tutorials/" itemprop="url"><span itemprop="name">Hibernate &amp; JPA Tutorials</span></a></li>
	<li id="menu-item-18833" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-18833"><a href="https://www.thoughts-on-java.org/tips/" itemprop="url"><span itemprop="name">Hibernate Tips</span></a></li>
</ul>
</li>
<li id="menu-item-14887" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-14887"><a href="https://www.youtube.com/channel/UCYeDPubBiFCZXIOgGYoyADw" itemprop="url"><span itemprop="name">Videos</span></a></li>
<li id="menu-item-17256" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17256"><a href="http://www.hibernate-tips.com/" itemprop="url"><span itemprop="name">Book</span></a></li>
<li id="menu-item-14888" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-14888"><a href="https://www.thoughts-on-java.org/academy" itemprop="url"><span itemprop="name">Training</span></a></li>
<li id="menu-item-16816" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-16816"><a href="https://www.thoughts-on-java.org/work-with-me/" itemprop="url"><span itemprop="name">Work with me</span></a></li>
<li id="menu-item-19976" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-19976"><a href="https://www.thoughts-on-java.org/become-a-thoughts-on-java-supporter/" itemprop="url"><span itemprop="name">ToJ Supporter</span></a></li>
<li id="menu-item-14889" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-14889"><a href="https://www.thoughts-on-java.org/about/" itemprop="url" class="sf-with-ul"><span itemprop="name">About ▼</span></a>
<ul class="sub-menu">
	<li id="menu-item-14891" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-14891"><a href="https://www.thoughts-on-java.org/category/about-thoughts-on-java/" itemprop="url"><span itemprop="name">About Thoughts on Java</span></a></li>
	<li id="menu-item-19749" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-19749"><a href="https://www.thoughts-on-java.org/become-a-thoughts-on-java-supporter/" itemprop="url"><span itemprop="name">Support Thoughts on Java</span></a></li>
	<li id="menu-item-14890" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14890"><a href="https://www.thoughts-on-java.org/resources/" itemprop="url"><span itemprop="name">Resources</span></a></li>
</ul>
</li>
<li id="menu-item-14892" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14892"><a href="https://www.thoughts-on-java.org/library/" itemprop="url"><span itemprop="name">Member Library</span></a></li>
</ul></div></nav></div></header><div class="site-inner"><div class="wrap"><div class="content-sidebar-wrap"><main class="content" id="genesis-content"><div class="breadcrumb" itemscope="" itemtype="https://schema.org/BreadcrumbList">You are here: <span class="breadcrumb-link-wrap" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><a href="https://www.thoughts-on-java.org/" itemprop="item"><span itemprop="name">Home</span></a></span> <span aria-label="breadcrumb separator">/</span> <span class="breadcrumb-link-wrap" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><a href="https://www.thoughts-on-java.org/category/javaee7/" itemprop="item"><span itemprop="name">JavaEE7</span></a></span> <span aria-label="breadcrumb separator">/</span> JPA 2.1 Entity Graph : Part 2- Define lazy/eager loading at runtime</div><div class="supporterHeader">Special thanks to all <a href="https://www.thoughts-on-java.org/become-a-thoughts-on-java-supporter/?utm_source=blog&amp;utm_medium=header&amp;utm_campaign=supporter">Thoughts on Java Supporters</a> for supporting this article!</div> <article class="post-326 post type-post status-publish format-standard has-post-thumbnail category-javaee7 category-jpa2-1 entry" itemscope="" itemtype="http://schema.org/CreativeWork"><header class="entry-header"><h1 class="entry-title" itemprop="headline">JPA 2.1 Entity Graph : Part 2- Define lazy/eager loading at runtime</h1>
<p class="entry-meta">By <span class="entry-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><a href="https://www.thoughts-on-java.org/author/rainmakerthoughts-on-java-org/" class="entry-author-link" itemprop="url" rel="author"><span class="entry-author-name" itemprop="name">Thorben Janssen</span></a></span> <span class="entry-comments-link"><a href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/#comments">5 Comments</a></span> </p></header><div class="entry-content" itemprop="text"><span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject">
<meta itemprop="url" content="https://www.thoughts-on-java.org/wp-content/uploads/2014/04/JPA-2.1-Entity-Graph-–-Part-2_-Define-lazy_eager-loading-at-runtime.png">
<meta itemprop="width" content="810">
<meta itemprop="height" content="450">
</span>
<div class="shariff shariff-align-flex-start shariff-widget-align-flex-start" style="display:none"><ul class="shariff-buttons theme-color orientation-horizontal buttonsize-small"><li class="shariff-button twitter shariff-nocustomcolor" style="background-color:#32bbf5"><a href="https://twitter.com/share?url=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F&amp;text=JPA%202.1%20Entity%20Graph%20%3A%20Part%202-%20Define%20lazy%2Feager%20loading%20at%20runtime&amp;via=thjanssen123" title="Share on Twitter" aria-label="Share on Twitter" role="button" rel="noopener nofollow" class="shariff-link" style="; background-color:#55acee; color:#fff" target="_blank"><span class="shariff-icon" style=""><svg width="32px" height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 32"><path fill="#55acee" d="M29.7 6.8q-1.2 1.8-3 3.1 0 0.3 0 0.8 0 2.5-0.7 4.9t-2.2 4.7-3.5 4-4.9 2.8-6.1 1q-5.1 0-9.3-2.7 0.6 0.1 1.5 0.1 4.3 0 7.6-2.6-2-0.1-3.5-1.2t-2.2-3q0.6 0.1 1.1 0.1 0.8 0 1.6-0.2-2.1-0.4-3.5-2.1t-1.4-3.9v-0.1q1.3 0.7 2.8 0.8-1.2-0.8-2-2.2t-0.7-2.9q0-1.7 0.8-3.1 2.3 2.8 5.5 4.5t7 1.9q-0.2-0.7-0.2-1.4 0-2.5 1.8-4.3t4.3-1.8q2.7 0 4.5 1.9 2.1-0.4 3.9-1.5-0.7 2.2-2.7 3.4 1.8-0.2 3.5-0.9z"></path></svg></span><span class="shariff-text">tweet</span>&nbsp;</a></li><li class="shariff-button facebook shariff-nocustomcolor" style="background-color:#4273c8"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F" title="Share on Facebook" aria-label="Share on Facebook" role="button" rel="nofollow" class="shariff-link" style="; background-color:#3b5998; color:#fff" target="_blank"><span class="shariff-icon" style=""><svg width="32px" height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 32"><path fill="#3b5998" d="M17.1 0.2v4.7h-2.8q-1.5 0-2.1 0.6t-0.5 1.9v3.4h5.2l-0.7 5.3h-4.5v13.6h-5.5v-13.6h-4.5v-5.3h4.5v-3.9q0-3.3 1.9-5.2t5-1.8q2.6 0 4.1 0.2z"></path></svg></span><span class="shariff-text">share</span>&nbsp;</a></li><li class="shariff-button googleplus shariff-nocustomcolor" style="background-color:#f75b44"><a href="https://plus.google.com/share?url=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F" title="Share on Google+" aria-label="Share on Google+" role="button" rel="noopener nofollow" class="shariff-link" style="; background-color:#d34836; color:#fff" target="_blank"><span class="shariff-icon" style=""><svg width="32px" height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path fill="#d34836" d="M31.6 14.7h-3.3v-3.3h-2.6v3.3h-3.3v2.6h3.3v3.3h2.6v-3.3h3.3zM10.8 14v4.1h5.7c-0.4 2.4-2.6 4.2-5.7 4.2-3.4 0-6.2-2.9-6.2-6.3s2.8-6.3 6.2-6.3c1.5 0 2.9 0.5 4 1.6v0l2.9-2.9c-1.8-1.7-4.2-2.7-7-2.7-5.8 0-10.4 4.7-10.4 10.4s4.7 10.4 10.4 10.4c6 0 10-4.2 10-10.2 0-0.8-0.1-1.5-0.2-2.2 0 0-9.8 0-9.8 0z"></path></svg></span><span class="shariff-text">share</span>&nbsp;</a></li><li class="shariff-button linkedin shariff-nocustomcolor" style="background-color:#1488bf"><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F&amp;title=JPA%202.1%20Entity%20Graph%20%3A%20Part%202-%20Define%20lazy%2Feager%20loading%20at%20runtime" title="Share on LinkedIn" aria-label="Share on LinkedIn" role="button" rel="noopener nofollow" class="shariff-link" style="; background-color:#0077b5; color:#fff" target="_blank"><span class="shariff-icon" style=""><svg width="32px" height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27 32"><path fill="#0077b5" d="M6.2 11.2v17.7h-5.9v-17.7h5.9zM6.6 5.7q0 1.3-0.9 2.2t-2.4 0.9h0q-1.5 0-2.4-0.9t-0.9-2.2 0.9-2.2 2.4-0.9 2.4 0.9 0.9 2.2zM27.4 18.7v10.1h-5.9v-9.5q0-1.9-0.7-2.9t-2.3-1.1q-1.1 0-1.9 0.6t-1.2 1.5q-0.2 0.5-0.2 1.4v9.9h-5.9q0-7.1 0-11.6t0-5.3l0-0.9h5.9v2.6h0q0.4-0.6 0.7-1t1-0.9 1.6-0.8 2-0.3q3 0 4.9 2t1.9 6z"></path></svg></span><span class="shariff-text">share</span>&nbsp;</a></li><li class="shariff-button reddit shariff-nocustomcolor" style="background-color:#ff5700"><a href="https://www.reddit.com/submit?url=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F" title="Share on Reddit" aria-label="Share on Reddit" role="button" rel="noopener nofollow" class="shariff-link" style="; background-color:#ff4500; color:#fff" target="_blank"><span class="shariff-icon" style=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#ff4500" d="M440.3 203.5c-15 0-28.2 6.2-37.9 15.9-35.7-24.7-83.8-40.6-137.1-42.3L293 52.3l88.2 19.8c0 21.6 17.6 39.2 39.2 39.2 22 0 39.7-18.1 39.7-39.7s-17.6-39.7-39.7-39.7c-15.4 0-28.7 9.3-35.3 22l-97.4-21.6c-4.9-1.3-9.7 2.2-11 7.1L246.3 177c-52.9 2.2-100.5 18.1-136.3 42.8-9.7-10.1-23.4-16.3-38.4-16.3-55.6 0-73.8 74.6-22.9 100.1-1.8 7.9-2.6 16.3-2.6 24.7 0 83.8 94.4 151.7 210.3 151.7 116.4 0 210.8-67.9 210.8-151.7 0-8.4-.9-17.2-3.1-25.1 49.9-25.6 31.5-99.7-23.8-99.7zM129.4 308.9c0-22 17.6-39.7 39.7-39.7 21.6 0 39.2 17.6 39.2 39.7 0 21.6-17.6 39.2-39.2 39.2-22 .1-39.7-17.6-39.7-39.2zm214.3 93.5c-36.4 36.4-139.1 36.4-175.5 0-4-3.5-4-9.7 0-13.7 3.5-3.5 9.7-3.5 13.2 0 27.8 28.5 120 29 149 0 3.5-3.5 9.7-3.5 13.2 0 4.1 4 4.1 10.2.1 13.7zm-.8-54.2c-21.6 0-39.2-17.6-39.2-39.2 0-22 17.6-39.7 39.2-39.7 22 0 39.7 17.6 39.7 39.7-.1 21.5-17.7 39.2-39.7 39.2z"></path></svg></span><span class="shariff-text">share</span>&nbsp;</a></li><li class="shariff-button xing shariff-nocustomcolor" style="background-color:#29888a"><a href="https://www.xing.com/social_plugins/share?url=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F" title="Share on XING" aria-label="Share on XING" role="button" rel="noopener nofollow" class="shariff-link" style="; background-color:#126567; color:#fff" target="_blank"><span class="shariff-icon" style=""><svg width="32px" height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 32"><path fill="#126567" d="M10.7 11.9q-0.2 0.3-4.6 8.2-0.5 0.8-1.2 0.8h-4.3q-0.4 0-0.5-0.3t0-0.6l4.5-8q0 0 0 0l-2.9-5q-0.2-0.4 0-0.7 0.2-0.3 0.5-0.3h4.3q0.7 0 1.2 0.8zM25.1 0.4q0.2 0.3 0 0.7l-9.4 16.7 6 11q0.2 0.4 0 0.6-0.2 0.3-0.6 0.3h-4.3q-0.7 0-1.2-0.8l-6-11.1q0.3-0.6 9.5-16.8 0.4-0.8 1.2-0.8h4.3q0.4 0 0.5 0.3z"></path></svg></span><span class="shariff-text">share</span>&nbsp;</a></li><li class="shariff-button mailto shariff-nocustomcolor" style="background-color:#a8a8a8"><a href="mailto:?body=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F&amp;subject=JPA%202.1%20Entity%20Graph%20%3A%20Part%202-%20Define%20lazy%2Feager%20loading%20at%20runtime" title="Send by email" aria-label="Send by email" role="button" rel="noopener nofollow" class="shariff-link" style="; background-color:#999; color:#fff"><span class="shariff-icon" style=""><svg width="32px" height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path fill="#999" d="M32 12.7v14.2q0 1.2-0.8 2t-2 0.9h-26.3q-1.2 0-2-0.9t-0.8-2v-14.2q0.8 0.9 1.8 1.6 6.5 4.4 8.9 6.1 1 0.8 1.6 1.2t1.7 0.9 2 0.4h0.1q0.9 0 2-0.4t1.7-0.9 1.6-1.2q3-2.2 8.9-6.1 1-0.7 1.8-1.6zM32 7.4q0 1.4-0.9 2.7t-2.2 2.2q-6.7 4.7-8.4 5.8-0.2 0.1-0.7 0.5t-1 0.7-0.9 0.6-1.1 0.5-0.9 0.2h-0.1q-0.4 0-0.9-0.2t-1.1-0.5-0.9-0.6-1-0.7-0.7-0.5q-1.6-1.1-4.7-3.2t-3.6-2.6q-1.1-0.7-2.1-2t-1-2.5q0-1.4 0.7-2.3t2.1-0.9h26.3q1.2 0 2 0.8t0.9 2z"></path></svg></span><span class="shariff-text">e-mail</span>&nbsp;</a></li></ul></div><p><img src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/JPA-2.1-Entity-Graph-–-Part-2_-Define-lazy_eager-loading-at-runtime.png" data-lazy-type="image" data-src="https://www.thoughts-on-java.org/wp-content/uploads/2014/04/JPA-2.1-Entity-Graph-–-Part-2_-Define-lazy_eager-loading-at-runtime.png" alt="" width="810" height="450" class="alignnone size-full wp-image-20062 lazy-loaded" srcset="https://www.thoughts-on-java.org/wp-content/uploads/2014/04/JPA-2.1-Entity-Graph-–-Part-2_-Define-lazy_eager-loading-at-runtime.png 810w, https://www.thoughts-on-java.org/wp-content/uploads/2014/04/JPA-2.1-Entity-Graph-–-Part-2_-Define-lazy_eager-loading-at-runtime-300x167.png 300w, https://www.thoughts-on-java.org/wp-content/uploads/2014/04/JPA-2.1-Entity-Graph-–-Part-2_-Define-lazy_eager-loading-at-runtime-768x427.png 768w" data-srcset="" sizes="(max-width: 810px) 100vw, 810px"><noscript><img src="https://www.thoughts-on-java.org/wp-content/uploads/2014/04/JPA-2.1-Entity-Graph-–-Part-2_-Define-lazy_eager-loading-at-runtime.png" alt="" width="810" height="450" class="alignnone size-full wp-image-20062" srcset="https://www.thoughts-on-java.org/wp-content/uploads/2014/04/JPA-2.1-Entity-Graph-–-Part-2_-Define-lazy_eager-loading-at-runtime.png 810w, https://www.thoughts-on-java.org/wp-content/uploads/2014/04/JPA-2.1-Entity-Graph-–-Part-2_-Define-lazy_eager-loading-at-runtime-300x167.png 300w, https://www.thoughts-on-java.org/wp-content/uploads/2014/04/JPA-2.1-Entity-Graph-–-Part-2_-Define-lazy_eager-loading-at-runtime-768x427.png 768w" sizes="(max-width: 810px) 100vw, 810px" /></noscript><br>
This is my second post on Entity Graphs, one of the <a href="https://www.thoughts-on-java.org/2015/02/jpa-21-overview.html" target="_blank">features introduced with JPA 2.1</a>. <a href="https://www.thoughts-on-java.org/2014/03/jpa-21-entity-graph-part-1-named-entity.html" target="_blank">The first post</a> described the usage of named entity graphs. These can be used to define&nbsp;a graph of entities and/or attributes at compile time that shall be fetched with a find or query method. Dynamic entity graphs do to the same but in a dynamic way. This means you can use the EntityGraph API to define your entity graph at runtime.<br>
If you have missed the first post and want to read how to define a named entity graph or how lazy loading issues were solved with JPA 2.0, check this post:&nbsp;<a href="https://www.thoughts-on-java.org/2014/03/jpa-21-entity-graph-part-1-named-entity.html" target="_blank">JPA 2.1 Entity Graph – Part 1: Named entity graphs</a> <span id="more-326"></span></p>
<h2>The example entities</h2>
<p>We will use the same example as in the <a href="https://www.thoughts-on-java.org/2014/03/jpa-21-entity-graph-part-1-named-entity.html" target="_blank">previous post</a>. So you can skip this paragraph if you have read the other one.<br>
We will use 3 entities. These are <i>Order</i>, <i>OrderItem</i> and <i>Product</i>. An <i>Order</i> might include multiple <i>OrderItem</i>s<i> </i>and each <i>OrderItem </i>belongs to one <i>Product</i>. The FetchType of all these relations it FetchType.LAZY. So the entity manager will not fetch them from the database by default and initialize them with a proxy instead.</p>
<p>The Order entity:<br>
<script src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/148e78c95301776054d7.js.download"></script><link rel="stylesheet" href="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/gist-embed-0e377f317de3511c49ca97da2754f582.css"></p><div id="gist21565244" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-order-java" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-java">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-order-java-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-order-java-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">@Entity</span></td>
      </tr>
      <tr>
        <td id="file-order-java-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-order-java-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">@Table</span>(<span class="pl-c1">name</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>purchaseOrder<span class="pl-pds">"</span></span>)</td>
      </tr>
      <tr>
        <td id="file-order-java-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-order-java-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">@NamedEntityGraph</span>(<span class="pl-c1">name</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>graph.Order.items<span class="pl-pds">"</span></span>, </td>
      </tr>
      <tr>
        <td id="file-order-java-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-order-java-LC4" class="blob-code blob-code-inner js-file-line">               <span class="pl-c1">attributeNodes</span> <span class="pl-k">=</span> <span class="pl-k">@NamedAttributeNode</span>(<span class="pl-c1">value</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>items<span class="pl-pds">"</span></span>, <span class="pl-c1">subgraph</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>items<span class="pl-pds">"</span></span>), </td>
      </tr>
      <tr>
        <td id="file-order-java-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-order-java-LC5" class="blob-code blob-code-inner js-file-line">               <span class="pl-c1">subgraphs</span> <span class="pl-k">=</span> <span class="pl-k">@NamedSubgraph</span>(<span class="pl-c1">name</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>items<span class="pl-pds">"</span></span>, <span class="pl-c1">attributeNodes</span> <span class="pl-k">=</span> <span class="pl-k">@NamedAttributeNode</span>(<span class="pl-s"><span class="pl-pds">"</span>product<span class="pl-pds">"</span></span>)))</td>
      </tr>
      <tr>
        <td id="file-order-java-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-order-java-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Order</span> <span class="pl-k">implements</span> <span class="pl-e">Serializable</span> {</td>
      </tr>
      <tr>
        <td id="file-order-java-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-order-java-LC7" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-order-java-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-order-java-LC8" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Id</span></td>
      </tr>
      <tr>
        <td id="file-order-java-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-order-java-LC9" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@GeneratedValue</span>(<span class="pl-c1">strategy</span> <span class="pl-k">=</span> <span class="pl-smi">GenerationType</span><span class="pl-c1"><span class="pl-k">.</span>AUTO</span>)</td>
      </tr>
      <tr>
        <td id="file-order-java-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-order-java-LC10" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Column</span>(<span class="pl-c1">name</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>, <span class="pl-c1">updatable</span> <span class="pl-k">=</span> <span class="pl-c1">false</span>, <span class="pl-c1">nullable</span> <span class="pl-k">=</span> <span class="pl-c1">false</span>)</td>
      </tr>
      <tr>
        <td id="file-order-java-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-order-java-LC11" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">private</span> <span class="pl-smi">Long</span> id <span class="pl-k">=</span> <span class="pl-c1">null</span>;</td>
      </tr>
      <tr>
        <td id="file-order-java-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-order-java-LC12" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Version</span></td>
      </tr>
      <tr>
        <td id="file-order-java-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-order-java-LC13" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Column</span>(<span class="pl-c1">name</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>version<span class="pl-pds">"</span></span>)</td>
      </tr>
      <tr>
        <td id="file-order-java-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-order-java-LC14" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">private</span> <span class="pl-k">int</span> version <span class="pl-k">=</span> <span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="file-order-java-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-order-java-LC15" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-order-java-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-order-java-LC16" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Column</span></td>
      </tr>
      <tr>
        <td id="file-order-java-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-order-java-LC17" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">private</span> <span class="pl-smi">String</span> orderNumber;</td>
      </tr>
      <tr>
        <td id="file-order-java-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-order-java-LC18" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-order-java-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-order-java-LC19" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@OneToMany</span>(<span class="pl-c1">mappedBy</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>order<span class="pl-pds">"</span></span>, <span class="pl-c1">fetch</span> <span class="pl-k">=</span> <span class="pl-smi">FetchType</span><span class="pl-c1"><span class="pl-k">.</span>LAZY</span>)</td>
      </tr>
      <tr>
        <td id="file-order-java-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-order-java-LC20" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">private</span> <span class="pl-k">Set&lt;<span class="pl-smi">OrderItem</span>&gt;</span> items <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">HashSet&lt;<span class="pl-smi">OrderItem</span>&gt;</span>();</td>
      </tr>
      <tr>
        <td id="file-order-java-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-order-java-LC21" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-order-java-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-order-java-LC22" class="blob-code blob-code-inner js-file-line">   <span class="pl-c1">...</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/thjanssen/148e78c95301776054d7/raw/b0c450c62572f6701f60badd724c8cf25cbeaaa3/Order.java" style="float:right">view raw</a>
        <a href="https://gist.github.com/thjanssen/148e78c95301776054d7#file-order-java">Order.java</a>
        hosted with <img draggable="false" class="emoji" alt="❤" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/2764.svg"> by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>
<br>
The OrderItem entity:<br>
<script src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/148e78c95301776054d7.js(1).download"></script><link rel="stylesheet" href="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/gist-embed-0e377f317de3511c49ca97da2754f582.css"><div id="gist21565244" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-orderitem-java" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-java">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-orderitem-java-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-orderitem-java-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">@Entity</span></td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-orderitem-java-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">OrderItem</span> <span class="pl-k">implements</span> <span class="pl-e">Serializable</span></td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-orderitem-java-LC3" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-orderitem-java-LC4" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-orderitem-java-LC5" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Id</span></td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-orderitem-java-LC6" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@GeneratedValue</span>(<span class="pl-c1">strategy</span> <span class="pl-k">=</span> <span class="pl-smi">GenerationType</span><span class="pl-c1"><span class="pl-k">.</span>AUTO</span>)</td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-orderitem-java-LC7" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Column</span>(<span class="pl-c1">name</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>, <span class="pl-c1">updatable</span> <span class="pl-k">=</span> <span class="pl-c1">false</span>, <span class="pl-c1">nullable</span> <span class="pl-k">=</span> <span class="pl-c1">false</span>)</td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-orderitem-java-LC8" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">private</span> <span class="pl-smi">Long</span> id <span class="pl-k">=</span> <span class="pl-c1">null</span>;</td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-orderitem-java-LC9" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Version</span></td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-orderitem-java-LC10" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Column</span>(<span class="pl-c1">name</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>version<span class="pl-pds">"</span></span>)</td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-orderitem-java-LC11" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">private</span> <span class="pl-k">int</span> version <span class="pl-k">=</span> <span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-orderitem-java-LC12" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-orderitem-java-LC13" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Column</span></td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-orderitem-java-LC14" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">private</span> <span class="pl-k">int</span> quantity;</td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-orderitem-java-LC15" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-orderitem-java-LC16" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@ManyToOne</span></td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-orderitem-java-LC17" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">private</span> <span class="pl-smi">Order</span> order;</td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-orderitem-java-LC18" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-orderitem-java-LC19" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@ManyToOne</span>(<span class="pl-c1">fetch</span> <span class="pl-k">=</span> <span class="pl-smi">FetchType</span><span class="pl-c1"><span class="pl-k">.</span>LAZY</span>)</td>
      </tr>
      <tr>
        <td id="file-orderitem-java-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-orderitem-java-LC20" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">private</span> <span class="pl-smi">Product</span> product;</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/thjanssen/148e78c95301776054d7/raw/b0c450c62572f6701f60badd724c8cf25cbeaaa3/OrderItem.java" style="float:right">view raw</a>
        <a href="https://gist.github.com/thjanssen/148e78c95301776054d7#file-orderitem-java">OrderItem.java</a>
        hosted with <img draggable="false" class="emoji" alt="❤" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/2764.svg"> by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>
<br>
The Product entity:<br>
<script src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/148e78c95301776054d7.js(2).download"></script><link rel="stylesheet" href="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/gist-embed-0e377f317de3511c49ca97da2754f582.css"><div id="gist21565244" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-product-java" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-java">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-product-java-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-product-java-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">@Entity</span></td>
      </tr>
      <tr>
        <td id="file-product-java-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-product-java-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Product</span> <span class="pl-k">implements</span> <span class="pl-e">Serializable</span></td>
      </tr>
      <tr>
        <td id="file-product-java-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-product-java-LC3" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="file-product-java-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-product-java-LC4" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-product-java-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-product-java-LC5" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Id</span></td>
      </tr>
      <tr>
        <td id="file-product-java-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-product-java-LC6" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@GeneratedValue</span>(<span class="pl-c1">strategy</span> <span class="pl-k">=</span> <span class="pl-smi">GenerationType</span><span class="pl-c1"><span class="pl-k">.</span>AUTO</span>)</td>
      </tr>
      <tr>
        <td id="file-product-java-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-product-java-LC7" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Column</span>(<span class="pl-c1">name</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>, <span class="pl-c1">updatable</span> <span class="pl-k">=</span> <span class="pl-c1">false</span>, <span class="pl-c1">nullable</span> <span class="pl-k">=</span> <span class="pl-c1">false</span>)</td>
      </tr>
      <tr>
        <td id="file-product-java-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-product-java-LC8" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">private</span> <span class="pl-smi">Long</span> id <span class="pl-k">=</span> <span class="pl-c1">null</span>;</td>
      </tr>
      <tr>
        <td id="file-product-java-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-product-java-LC9" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Version</span></td>
      </tr>
      <tr>
        <td id="file-product-java-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-product-java-LC10" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Column</span>(<span class="pl-c1">name</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>version<span class="pl-pds">"</span></span>)</td>
      </tr>
      <tr>
        <td id="file-product-java-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-product-java-LC11" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">private</span> <span class="pl-k">int</span> version <span class="pl-k">=</span> <span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="file-product-java-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-product-java-LC12" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-product-java-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-product-java-LC13" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">@Column</span></td>
      </tr>
      <tr>
        <td id="file-product-java-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-product-java-LC14" class="blob-code blob-code-inner js-file-line">   <span class="pl-k">private</span> <span class="pl-smi">String</span> name;</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/thjanssen/148e78c95301776054d7/raw/b0c450c62572f6701f60badd724c8cf25cbeaaa3/Product.java" style="float:right">view raw</a>
        <a href="https://gist.github.com/thjanssen/148e78c95301776054d7#file-product-java">Product.java</a>
        hosted with <img draggable="false" class="emoji" alt="❤" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/2764.svg"> by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>
<p></p>
<h2>Dynamic entity graph</h2>
<p>So lets define a dynamic entity graph. We will do the same as in the <a href="https://www.thoughts-on-java.org/2014/03/jpa-21-entity-graph-part-1-named-entity.html" target="_blank">first post</a> and define a simple entity graph that tells the entity manager to fetch an <i>Order</i> with all associated <i>OrderItem</i>s. Therefore we use the <i>createEntityGraph(Class rootType)</i> method of the entity manager to create an entity graph for the <i>Order</i> entity. In the next step, we create a list of all attributes of the <i>Order</i> entity that shall be fetched with this entity graph. We only need to add the attribute <i>items</i>, because we will use this entity graph as a loadgraph and all other attributes are eager by default.<br>
If we would use this entity graph as a fetchgraph, we would need to add all attributes to the list that should be fetched from the database.<br>
<script src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/148e78c95301776054d7.js(3).download"></script><link rel="stylesheet" href="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/gist-embed-0e377f317de3511c49ca97da2754f582.css"></p><div id="gist21565244" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-definegraph-java" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-java">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-definegraph-java-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-definegraph-java-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">EntityGraph&lt;<span class="pl-smi">Order</span>&gt;</span> graph <span class="pl-k">=</span> <span class="pl-c1">this</span><span class="pl-k">.</span>em<span class="pl-k">.</span>createEntityGraph(<span class="pl-smi">Order</span><span class="pl-k">.</span>class);</td>
      </tr>
      <tr>
        <td id="file-definegraph-java-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-definegraph-java-LC2" class="blob-code blob-code-inner js-file-line">graph<span class="pl-k">.</span>addAttributeNodes(<span class="pl-s"><span class="pl-pds">"</span>items<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-definegraph-java-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-definegraph-java-LC3" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-definegraph-java-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-definegraph-java-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-k">Map&lt;<span class="pl-smi">String</span>, <span class="pl-smi">Object</span>&gt;</span> hints <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">HashMap&lt;<span class="pl-smi">String</span>, <span class="pl-smi">Object</span>&gt;</span>();</td>
      </tr>
      <tr>
        <td id="file-definegraph-java-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-definegraph-java-LC5" class="blob-code blob-code-inner js-file-line">hints<span class="pl-k">.</span>put(<span class="pl-s"><span class="pl-pds">"</span>javax.persistence.loadgraph<span class="pl-pds">"</span></span>, graph);</td>
      </tr>
      <tr>
        <td id="file-definegraph-java-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-definegraph-java-LC6" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-definegraph-java-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-definegraph-java-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">this</span><span class="pl-k">.</span>em<span class="pl-k">.</span>find(<span class="pl-smi">Order</span><span class="pl-k">.</span>class, orderId, hints);</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/thjanssen/148e78c95301776054d7/raw/b0c450c62572f6701f60badd724c8cf25cbeaaa3/defineGraph.java" style="float:right">view raw</a>
        <a href="https://gist.github.com/thjanssen/148e78c95301776054d7#file-definegraph-java">defineGraph.java</a>
        hosted with <img draggable="false" class="emoji" alt="❤" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/2764.svg"> by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>
<br>
OK, dynamically defining which attributes of an entity shall be fetched from the database is nice. But what if we need a graph of entities? Like fetching an <i>Order </i>with all its <i>OrderItems</i> and their <i>Product</i>?<br>
This can be done with a sub graph. A sub graph is basically an entity graph that is embedded into another entity graph or entity sub graph. The definition of a sub graph is similar to the definition of an entity graph. To create and embed the sub graph into an entity graph, we need to call the <i>addSubgraph(String attributeName)</i> method on an <i>EntityGraph</i> object. This will create a sub graph for the attribute with the given name. In the next step, we need to define the list of attributes that shall be fetched with this sub graph.<br>
The following snippet shows the definition of an entity graph with an entity sub graph which tell the entity manager to fetch an <i>Order </i>with its <i>OrderItem</i>s and their <i>Product</i>.<br>
<script src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/148e78c95301776054d7.js(4).download"></script><link rel="stylesheet" href="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/gist-embed-0e377f317de3511c49ca97da2754f582.css"><div id="gist21565244" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-definesubgraph-java" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-java">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-definesubgraph-java-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-definesubgraph-java-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">EntityGraph&lt;<span class="pl-smi">Order</span>&gt;</span> graph <span class="pl-k">=</span> <span class="pl-c1">this</span><span class="pl-k">.</span>em<span class="pl-k">.</span>createEntityGraph(<span class="pl-smi">Order</span><span class="pl-k">.</span>class);</td>
      </tr>
      <tr>
        <td id="file-definesubgraph-java-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-definesubgraph-java-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">Subgraph&lt;<span class="pl-smi">OrderItem</span>&gt;</span> itemGraph <span class="pl-k">=</span> graph<span class="pl-k">.</span>addSubgraph(<span class="pl-s"><span class="pl-pds">"</span>items<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-definesubgraph-java-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-definesubgraph-java-LC3" class="blob-code blob-code-inner js-file-line">itemGraph<span class="pl-k">.</span>addAttributeNodes(<span class="pl-s"><span class="pl-pds">"</span>product<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-definesubgraph-java-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-definesubgraph-java-LC4" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-definesubgraph-java-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-definesubgraph-java-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-k">Map&lt;<span class="pl-smi">String</span>, <span class="pl-smi">Object</span>&gt;</span> hints <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">HashMap&lt;<span class="pl-smi">String</span>, <span class="pl-smi">Object</span>&gt;</span>();</td>
      </tr>
      <tr>
        <td id="file-definesubgraph-java-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-definesubgraph-java-LC6" class="blob-code blob-code-inner js-file-line">hints<span class="pl-k">.</span>put(<span class="pl-s"><span class="pl-pds">"</span>javax.persistence.loadgraph<span class="pl-pds">"</span></span>, graph);</td>
      </tr>
      <tr>
        <td id="file-definesubgraph-java-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-definesubgraph-java-LC7" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-definesubgraph-java-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-definesubgraph-java-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> <span class="pl-c1">this</span><span class="pl-k">.</span>em<span class="pl-k">.</span>find(<span class="pl-smi">Order</span><span class="pl-k">.</span>class, orderId, hints);</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/thjanssen/148e78c95301776054d7/raw/b0c450c62572f6701f60badd724c8cf25cbeaaa3/defineSubGraph.java" style="float:right">view raw</a>
        <a href="https://gist.github.com/thjanssen/148e78c95301776054d7#file-definesubgraph-java">defineSubGraph.java</a>
        hosted with <img draggable="false" class="emoji" alt="❤" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/2764.svg"> by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>
<p></p>
<h2>What’s happening inside?</h2>
<p>As in the previous post, we want to have a look at the hibernate log and find out what hibernate is doing. As we can see, the result of a dynamic entity graph is the same as of a named entity graph. It creates a load plan and one select statement with all 3 entities.<br>
<script src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/148e78c95301776054d7.js(5).download"></script><link rel="stylesheet" href="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/gist-embed-0e377f317de3511c49ca97da2754f582.css"></p><div id="gist21565244" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-server-log" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-text">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-server-log-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-server-log-LC1" class="blob-code blob-code-inner js-file-line">2014-04-07 20:08:15,260 DEBUG [org.hibernate.loader.plan.build.spi.LoadPlanTreePrinter] (default task-2) LoadPlan(entity=blog.thoughts.on.java.jpa21.entity.graph.model.Order)</td>
      </tr>
      <tr>
        <td id="file-server-log-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-server-log-LC2" class="blob-code blob-code-inner js-file-line">    - Returns</td>
      </tr>
      <tr>
        <td id="file-server-log-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-server-log-LC3" class="blob-code blob-code-inner js-file-line">       - EntityReturnImpl(entity=blog.thoughts.on.java.jpa21.entity.graph.model.Order, querySpaceUid=, path=blog.thoughts.on.java.jpa21.entity.graph.model.Order)</td>
      </tr>
      <tr>
        <td id="file-server-log-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-server-log-LC4" class="blob-code blob-code-inner js-file-line">          - CollectionAttributeFetchImpl(collection=blog.thoughts.on.java.jpa21.entity.graph.model.Order.items, querySpaceUid=, path=blog.thoughts.on.java.jpa21.entity.graph.model.Order.items)</td>
      </tr>
      <tr>
        <td id="file-server-log-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-server-log-LC5" class="blob-code blob-code-inner js-file-line">             - (collection element) CollectionFetchableElementEntityGraph(entity=blog.thoughts.on.java.jpa21.entity.graph.model.OrderItem, querySpaceUid=, path=blog.thoughts.on.java.jpa21.entity.graph.model.Order.items.)</td>
      </tr>
      <tr>
        <td id="file-server-log-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-server-log-LC6" class="blob-code blob-code-inner js-file-line">    - QuerySpaces</td>
      </tr>
      <tr>
        <td id="file-server-log-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-server-log-LC7" class="blob-code blob-code-inner js-file-line">       - EntityQuerySpaceImpl(uid=, entity=blog.thoughts.on.java.jpa21.entity.graph.model.Order)</td>
      </tr>
      <tr>
        <td id="file-server-log-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-server-log-LC8" class="blob-code blob-code-inner js-file-line">          - SQL table alias mapping - order0_</td>
      </tr>
      <tr>
        <td id="file-server-log-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-server-log-LC9" class="blob-code blob-code-inner js-file-line">          - alias suffix - 0_</td>
      </tr>
      <tr>
        <td id="file-server-log-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-server-log-LC10" class="blob-code blob-code-inner js-file-line">          - suffixed key columns - {id1_2_0_}</td>
      </tr>
      <tr>
        <td id="file-server-log-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-server-log-LC11" class="blob-code blob-code-inner js-file-line">          - JOIN (JoinDefinedByMetadata(items)) :  -&gt; </td>
      </tr>
      <tr>
        <td id="file-server-log-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-server-log-LC12" class="blob-code blob-code-inner js-file-line">             - CollectionQuerySpaceImpl(uid=, collection=blog.thoughts.on.java.jpa21.entity.graph.model.Order.items)</td>
      </tr>
      <tr>
        <td id="file-server-log-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-server-log-LC13" class="blob-code blob-code-inner js-file-line">                - SQL table alias mapping - items1_</td>
      </tr>
      <tr>
        <td id="file-server-log-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-server-log-LC14" class="blob-code blob-code-inner js-file-line">                - alias suffix - 1_</td>
      </tr>
      <tr>
        <td id="file-server-log-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-server-log-LC15" class="blob-code blob-code-inner js-file-line">                - suffixed key columns - {order_id4_2_1_}</td>
      </tr>
      <tr>
        <td id="file-server-log-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-server-log-LC16" class="blob-code blob-code-inner js-file-line">                - entity-element alias suffix - 2_</td>
      </tr>
      <tr>
        <td id="file-server-log-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-server-log-LC17" class="blob-code blob-code-inner js-file-line">                - 2_entity-element suffixed key columns - id1_0_2_</td>
      </tr>
      <tr>
        <td id="file-server-log-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-server-log-LC18" class="blob-code blob-code-inner js-file-line">                - JOIN (JoinDefinedByMetadata(elements)) :  -&gt; </td>
      </tr>
      <tr>
        <td id="file-server-log-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-server-log-LC19" class="blob-code blob-code-inner js-file-line">                   - EntityQuerySpaceImpl(uid=, entity=blog.thoughts.on.java.jpa21.entity.graph.model.OrderItem)</td>
      </tr>
      <tr>
        <td id="file-server-log-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-server-log-LC20" class="blob-code blob-code-inner js-file-line">                      - SQL table alias mapping - items1_</td>
      </tr>
      <tr>
        <td id="file-server-log-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-server-log-LC21" class="blob-code blob-code-inner js-file-line">                      - alias suffix - 2_</td>
      </tr>
      <tr>
        <td id="file-server-log-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-server-log-LC22" class="blob-code blob-code-inner js-file-line">                      - suffixed key columns - {id1_0_2_}</td>
      </tr>
      <tr>
        <td id="file-server-log-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-server-log-LC23" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-server-log-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-server-log-LC24" class="blob-code blob-code-inner js-file-line">2014-04-07 20:08:15,260 DEBUG [org.hibernate.loader.entity.plan.EntityLoader] (default task-2) Static select for entity blog.thoughts.on.java.jpa21.entity.graph.model.Order [NONE:-1]: select order0_.id as id1_2_0_, order0_.orderNumber as orderNum2_2_0_, order0_.version as version3_2_0_, items1_.order_id as order_id4_2_1_, items1_.id as id1_0_1_, items1_.id as id1_0_2_, items1_.order_id as order_id4_0_2_, items1_.product_id as product_5_0_2_, items1_.quantity as quantity2_0_2_, items1_.version as version3_0_2_ from purchaseOrder order0_ left outer join OrderItem items1_ on order0_.id=items1_.order_id where order0_.id=?</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/thjanssen/148e78c95301776054d7/raw/b0c450c62572f6701f60badd724c8cf25cbeaaa3/server.log" style="float:right">view raw</a>
        <a href="https://gist.github.com/thjanssen/148e78c95301776054d7#file-server-log">server.log</a>
        hosted with <img draggable="false" class="emoji" alt="❤" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/2764.svg"> by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>
<p></p>
<h2>Conclusion</h2>
<p><!-- adsense -->After defining a named entity graph in the <a href="https://www.thoughts-on-java.org/2014/03/jpa-21-entity-graph-part-1-named-entity.html" target="_blank">first post</a>, we now used the EntityGraph API to define an dynamic entity graph. Using this entity graph, we can fetch a graph of multiple entities with only one query from the database. This can be used to solve LazyInitializationException and to improve the performance applications.</p>
<p>What do you think about (dynamic) entity graphs? From my point of view this is a very useful extension compared to JPA 2.0. Especially the dynamic entity graphs are useful to define your fetch strategy based on runtime information like method parameters.</p>
<p>If you enjoyed reading this article and like to learn more about other Java EE7 features, make sure to subscribe to my <a href="https://www.thoughts-on-java.org/feeds/posts/default" target="_blank">RSS feed</a> or follow me on <a href="https://twitter.com/thjanssen123" target="_blank">twitter</a> and <a href="https://plus.google.com/104438663880735057595" target="_blank">google+</a>.</p>
<p>And if you want to learn more about the new JPA 2.1 features, have a look at my other articles:</p>
<ul>
<li><a class="GCUXF0KCPB" href="https://www.thoughts-on-java.org/2013/10/jpa-21-how-to-implement-type-converter.html">JPA 2.1 – How to implement a Type Converter</a></li>
<li><a href="https://www.thoughts-on-java.org/2013/10/jpa-21-type-converter-better-way-to.html">JPA 2.1 Type Converter – The better way to persist enums</a></li>
<li><a href="https://www.thoughts-on-java.org/2013/10/criteria-updatedelete-easy-way-to.html">Criteria Update/Delete – The easy way to implement bulk operations with JPA2.1</a></li>
<li><a href="https://www.thoughts-on-java.org/2014/03/jpa-21-entity-graph-part-1-named-entity.html" target="_blank">JPA 2.1 Entity Graph – Part 1: Named entity graphs</a></li>
</ul>
<h2>Specification</h2>
<ul>
<li><a href="https://jcp.org/aboutJava/communityprocess/final/jsr338/index.html" target="_blank">JPA 2.1 Specification (JSR 338)</a></li>
</ul>
<div class="shariff shariff-align-flex-start shariff-widget-align-flex-start" style="display:none"><ul class="shariff-buttons theme-color orientation-horizontal buttonsize-small"><li class="shariff-button twitter shariff-nocustomcolor" style="background-color:#32bbf5"><a href="https://twitter.com/share?url=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F&amp;text=JPA%202.1%20Entity%20Graph%20%3A%20Part%202-%20Define%20lazy%2Feager%20loading%20at%20runtime&amp;via=thjanssen123" title="Share on Twitter" aria-label="Share on Twitter" role="button" rel="noopener nofollow" class="shariff-link" style="; background-color:#55acee; color:#fff" target="_blank"><span class="shariff-icon" style=""><svg width="32px" height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 32"><path fill="#55acee" d="M29.7 6.8q-1.2 1.8-3 3.1 0 0.3 0 0.8 0 2.5-0.7 4.9t-2.2 4.7-3.5 4-4.9 2.8-6.1 1q-5.1 0-9.3-2.7 0.6 0.1 1.5 0.1 4.3 0 7.6-2.6-2-0.1-3.5-1.2t-2.2-3q0.6 0.1 1.1 0.1 0.8 0 1.6-0.2-2.1-0.4-3.5-2.1t-1.4-3.9v-0.1q1.3 0.7 2.8 0.8-1.2-0.8-2-2.2t-0.7-2.9q0-1.7 0.8-3.1 2.3 2.8 5.5 4.5t7 1.9q-0.2-0.7-0.2-1.4 0-2.5 1.8-4.3t4.3-1.8q2.7 0 4.5 1.9 2.1-0.4 3.9-1.5-0.7 2.2-2.7 3.4 1.8-0.2 3.5-0.9z"></path></svg></span><span class="shariff-text">tweet</span>&nbsp;</a></li><li class="shariff-button facebook shariff-nocustomcolor" style="background-color:#4273c8"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F" title="Share on Facebook" aria-label="Share on Facebook" role="button" rel="nofollow" class="shariff-link" style="; background-color:#3b5998; color:#fff" target="_blank"><span class="shariff-icon" style=""><svg width="32px" height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 32"><path fill="#3b5998" d="M17.1 0.2v4.7h-2.8q-1.5 0-2.1 0.6t-0.5 1.9v3.4h5.2l-0.7 5.3h-4.5v13.6h-5.5v-13.6h-4.5v-5.3h4.5v-3.9q0-3.3 1.9-5.2t5-1.8q2.6 0 4.1 0.2z"></path></svg></span><span class="shariff-text">share</span>&nbsp;</a></li><li class="shariff-button googleplus shariff-nocustomcolor" style="background-color:#f75b44"><a href="https://plus.google.com/share?url=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F" title="Share on Google+" aria-label="Share on Google+" role="button" rel="noopener nofollow" class="shariff-link" style="; background-color:#d34836; color:#fff" target="_blank"><span class="shariff-icon" style=""><svg width="32px" height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path fill="#d34836" d="M31.6 14.7h-3.3v-3.3h-2.6v3.3h-3.3v2.6h3.3v3.3h2.6v-3.3h3.3zM10.8 14v4.1h5.7c-0.4 2.4-2.6 4.2-5.7 4.2-3.4 0-6.2-2.9-6.2-6.3s2.8-6.3 6.2-6.3c1.5 0 2.9 0.5 4 1.6v0l2.9-2.9c-1.8-1.7-4.2-2.7-7-2.7-5.8 0-10.4 4.7-10.4 10.4s4.7 10.4 10.4 10.4c6 0 10-4.2 10-10.2 0-0.8-0.1-1.5-0.2-2.2 0 0-9.8 0-9.8 0z"></path></svg></span><span class="shariff-text">share</span>&nbsp;</a></li><li class="shariff-button linkedin shariff-nocustomcolor" style="background-color:#1488bf"><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F&amp;title=JPA%202.1%20Entity%20Graph%20%3A%20Part%202-%20Define%20lazy%2Feager%20loading%20at%20runtime" title="Share on LinkedIn" aria-label="Share on LinkedIn" role="button" rel="noopener nofollow" class="shariff-link" style="; background-color:#0077b5; color:#fff" target="_blank"><span class="shariff-icon" style=""><svg width="32px" height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27 32"><path fill="#0077b5" d="M6.2 11.2v17.7h-5.9v-17.7h5.9zM6.6 5.7q0 1.3-0.9 2.2t-2.4 0.9h0q-1.5 0-2.4-0.9t-0.9-2.2 0.9-2.2 2.4-0.9 2.4 0.9 0.9 2.2zM27.4 18.7v10.1h-5.9v-9.5q0-1.9-0.7-2.9t-2.3-1.1q-1.1 0-1.9 0.6t-1.2 1.5q-0.2 0.5-0.2 1.4v9.9h-5.9q0-7.1 0-11.6t0-5.3l0-0.9h5.9v2.6h0q0.4-0.6 0.7-1t1-0.9 1.6-0.8 2-0.3q3 0 4.9 2t1.9 6z"></path></svg></span><span class="shariff-text">share</span>&nbsp;</a></li><li class="shariff-button reddit shariff-nocustomcolor" style="background-color:#ff5700"><a href="https://www.reddit.com/submit?url=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F" title="Share on Reddit" aria-label="Share on Reddit" role="button" rel="noopener nofollow" class="shariff-link" style="; background-color:#ff4500; color:#fff" target="_blank"><span class="shariff-icon" style=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#ff4500" d="M440.3 203.5c-15 0-28.2 6.2-37.9 15.9-35.7-24.7-83.8-40.6-137.1-42.3L293 52.3l88.2 19.8c0 21.6 17.6 39.2 39.2 39.2 22 0 39.7-18.1 39.7-39.7s-17.6-39.7-39.7-39.7c-15.4 0-28.7 9.3-35.3 22l-97.4-21.6c-4.9-1.3-9.7 2.2-11 7.1L246.3 177c-52.9 2.2-100.5 18.1-136.3 42.8-9.7-10.1-23.4-16.3-38.4-16.3-55.6 0-73.8 74.6-22.9 100.1-1.8 7.9-2.6 16.3-2.6 24.7 0 83.8 94.4 151.7 210.3 151.7 116.4 0 210.8-67.9 210.8-151.7 0-8.4-.9-17.2-3.1-25.1 49.9-25.6 31.5-99.7-23.8-99.7zM129.4 308.9c0-22 17.6-39.7 39.7-39.7 21.6 0 39.2 17.6 39.2 39.7 0 21.6-17.6 39.2-39.2 39.2-22 .1-39.7-17.6-39.7-39.2zm214.3 93.5c-36.4 36.4-139.1 36.4-175.5 0-4-3.5-4-9.7 0-13.7 3.5-3.5 9.7-3.5 13.2 0 27.8 28.5 120 29 149 0 3.5-3.5 9.7-3.5 13.2 0 4.1 4 4.1 10.2.1 13.7zm-.8-54.2c-21.6 0-39.2-17.6-39.2-39.2 0-22 17.6-39.7 39.2-39.7 22 0 39.7 17.6 39.7 39.7-.1 21.5-17.7 39.2-39.7 39.2z"></path></svg></span><span class="shariff-text">share</span>&nbsp;</a></li><li class="shariff-button xing shariff-nocustomcolor" style="background-color:#29888a"><a href="https://www.xing.com/social_plugins/share?url=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F" title="Share on XING" aria-label="Share on XING" role="button" rel="noopener nofollow" class="shariff-link" style="; background-color:#126567; color:#fff" target="_blank"><span class="shariff-icon" style=""><svg width="32px" height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 32"><path fill="#126567" d="M10.7 11.9q-0.2 0.3-4.6 8.2-0.5 0.8-1.2 0.8h-4.3q-0.4 0-0.5-0.3t0-0.6l4.5-8q0 0 0 0l-2.9-5q-0.2-0.4 0-0.7 0.2-0.3 0.5-0.3h4.3q0.7 0 1.2 0.8zM25.1 0.4q0.2 0.3 0 0.7l-9.4 16.7 6 11q0.2 0.4 0 0.6-0.2 0.3-0.6 0.3h-4.3q-0.7 0-1.2-0.8l-6-11.1q0.3-0.6 9.5-16.8 0.4-0.8 1.2-0.8h4.3q0.4 0 0.5 0.3z"></path></svg></span><span class="shariff-text">share</span>&nbsp;</a></li><li class="shariff-button mailto shariff-nocustomcolor" style="background-color:#a8a8a8"><a href="mailto:?body=https%3A%2F%2Fwww.thoughts-on-java.org%2Fjpa-21-entity-graph-part-2-define%2F&amp;subject=JPA%202.1%20Entity%20Graph%20%3A%20Part%202-%20Define%20lazy%2Feager%20loading%20at%20runtime" title="Send by email" aria-label="Send by email" role="button" rel="noopener nofollow" class="shariff-link" style="; background-color:#999; color:#fff"><span class="shariff-icon" style=""><svg width="32px" height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path fill="#999" d="M32 12.7v14.2q0 1.2-0.8 2t-2 0.9h-26.3q-1.2 0-2-0.9t-0.8-2v-14.2q0.8 0.9 1.8 1.6 6.5 4.4 8.9 6.1 1 0.8 1.6 1.2t1.7 0.9 2 0.4h0.1q0.9 0 2-0.4t1.7-0.9 1.6-1.2q3-2.2 8.9-6.1 1-0.7 1.8-1.6zM32 7.4q0 1.4-0.9 2.7t-2.2 2.2q-6.7 4.7-8.4 5.8-0.2 0.1-0.7 0.5t-1 0.7-0.9 0.6-1.1 0.5-0.9 0.2h-0.1q-0.4 0-0.9-0.2t-1.1-0.5-0.9-0.6-1-0.7-0.7-0.5q-1.6-1.1-4.7-3.2t-3.6-2.6q-1.1-0.7-2.1-2t-1-2.5q0-1.4 0.7-2.3t2.1-0.9h26.3q1.2 0 2 0.8t0.9 2z"></path></svg></span><span class="shariff-text">e-mail</span>&nbsp;</a></li></ul></div><span id="tve_leads_end_content" style="display: block; visibility: hidden; border: 1px solid transparent;"></span><div class="yarpp-related">
<h3>Related posts:</h3><ol>
<li><a href="https://www.thoughts-on-java.org/jpa-21-type-converter-better-way-to/" rel="bookmark" title="JPA 2.1 Attribute Converter – The better way to persist enums">JPA 2.1 Attribute Converter – The better way to persist enums </a></li>
<li><a href="https://www.thoughts-on-java.org/criteria-updatedelete-easy-way-to/" rel="bookmark" title="Criteria Update/Delete – The easy way to implement bulk operations with JPA2.1">Criteria Update/Delete – The easy way to implement bulk operations with JPA2.1 </a></li>
<li><a href="https://www.thoughts-on-java.org/database-functions/" rel="bookmark" title="How to call custom database functions with JPA and Hibernate">How to call custom database functions with JPA and Hibernate </a></li>
<li><a href="https://www.thoughts-on-java.org/automatically-validate-entities-with-hibernate-validator/" rel="bookmark" title="How to automatically validate entities with Hibernate Validator">How to automatically validate entities with Hibernate Validator </a></li>
</ol>
</div>
<!--<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/"
    dc:identifier="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/"
    dc:title="JPA 2.1 Entity Graph : Part 2- Define lazy/eager loading at runtime"
    trackback:ping="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/trackback/" />
</rdf:RDF>-->
<div class="supporterFooter">Become a <a href="https://www.thoughts-on-java.org/become-a-thoughts-on-java-supporter/?utm_source=blog&amp;utm_medium=header&amp;utm_campaign=supporter">Thoughts on Java Supporter</a> to claim your member perks and to help me write more articles like this.</div> <meta itemprop="dateModified" content="2018-08-16T14:36:08+00:00"><meta itemprop="mainEntityOfPage" content="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/"></div><footer class="entry-footer"><p class="entry-meta"><span class="entry-categories">Filed Under: <a href="https://www.thoughts-on-java.org/category/javaee7/" rel="category tag">JavaEE7</a>, <a href="https://www.thoughts-on-java.org/category/jpa2-1/" rel="category tag">JPA2.1</a></span> </p></footer></article><div class="after-entry widget-area"><section id="custom_html-2" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><div class="textwidget custom-html-widget"><h3>Implement Your Persistence Layer with Ease</h3>
<a href="http://www.hibernate-tips.com/"><img class="lazy-hidden" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/lazy_placeholder.gif" data-lazy-type="image" data-src="/wp-content/uploads/2017/10/Thorben-Janssen-Facebook-Ad-3-1.png"><noscript><img src="/wp-content/uploads/2017/10/Thorben-Janssen-Facebook-Ad-3-1.png"></noscript></a>

<h3 style="margin-top: 40px">Learn More About Hibernate</h3>
<a href="https://www.thoughts-on-java.org/jpa-for-beginners/"><img class="lazy-hidden" style="width: 49%; float: left;" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/lazy_placeholder.gif" data-lazy-type="image" data-src="/wp-content/uploads/2018/07/JPA-for-Beginners.png"><noscript><img style="width: 49%; float: left;" src="/wp-content/uploads/2018/07/JPA-for-Beginners.png"></noscript></a><a href="https://www.thoughts-on-java.org/advanced-hibernate-online-training-wst/"><img class="lazy-hidden" style="width: 49%;" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/lazy_placeholder.gif" data-lazy-type="image" data-src="/wp-content/uploads/2016/10/AdvancedHibernateOnlineTraining1.png"><noscript><img style="width: 49%;" src="/wp-content/uploads/2016/10/AdvancedHibernateOnlineTraining1.png"></noscript></a><a href="https://www.thoughts-on-java.org/hibernate-performance-tuning-online-training-wst/"><img class="lazy-hidden" style="width: 49%; float: left;" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/lazy_placeholder.gif" data-lazy-type="image" data-src="/wp-content/uploads/2016/10/HibernatePerformanceTuning2.png"><noscript><img style="width: 49%; float: left;" src="/wp-content/uploads/2016/10/HibernatePerformanceTuning2.png"></noscript></a><a href="https://www.thoughts-on-java.org/hibernate-expert-bundle-wst/"><img class="lazy-hidden" style="width: 49%;" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/lazy_placeholder.gif" data-lazy-type="image" data-src="/wp-content/uploads/2016/10/HibernateExpertBundle.png"><noscript><img style="width: 49%;" src="/wp-content/uploads/2016/10/HibernateExpertBundle.png"></noscript></a>

<h3 style="margin-top: 40px">Need Some Help with Your Project?</h3>
<a href="https://bookme.name/thjanssen"><img class="lazy-hidden" style="width: 49%; float: left" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/lazy_placeholder.gif" data-lazy-type="image" data-src="/wp-content/uploads/2017/12/450px-x-300px-–-Consulting-Call-2-1.png"><noscript><img style="width: 49%; float: left" src="/wp-content/uploads/2017/12/450px-x-300px-–-Consulting-Call-2-1.png"></noscript></a><a href="https://www.thoughts-on-java.org/project-coaching"><img class="lazy-hidden" style="width: 49%;" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/lazy_placeholder.gif" data-lazy-type="image" data-src="/wp-content/uploads/2017/12/Project-Coaching-3-1.png"><noscript><img style="width: 49%;" src="/wp-content/uploads/2017/12/Project-Coaching-3-1.png"></noscript></a></div></div></section>
</div><h2 class="screen-reader-text">Reader Interactions</h2><div class="entry-comments" id="comments"><h3>Comments</h3><ol class="comment-list">
	<li class="comment even thread-even depth-1" id="comment-35">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<span itemprop="name"><a href="http://www.blogger.com/profile/02028559621679932902" class="comment-author-link" rel="external nofollow" itemprop="url">Lukas Eder</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2014-04-12T09:15:13+00:00" itemprop="datePublished"><a href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/#comment-35" class="comment-time-link" itemprop="url">April 12, 2014 at 9:15 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>I'm really very curious where this whole Annotatiomania™ leads us. Once we declare something like a named entity graph with declarative tools like annotations, I really start wondering why we have stopped writing SQL.</p>
<p>I understand that this whole set of features will go through a variety of caches in Hibernate and leverage the whole platform. But the sheer complexity of a project that yields hundreds of such entity graphs makes me think if querying shouldn't better be done with the optimal query language for RDBMS.</p>
<p>Have you already seen these JEE7 things in the wild?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/#comment-35" onclick="return addComment.moveForm( &quot;comment-35&quot;, &quot;35&quot;, &quot;respond&quot;, &quot;326&quot; )" aria-label="Reply to Lukas Eder">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-36">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<span itemprop="name"><a href="http://www.blogger.com/profile/04147076428817122840" class="comment-author-link" rel="external nofollow" itemprop="url">Thorben Janssen</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2014-04-19T17:56:20+00:00" itemprop="datePublished"><a href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/#comment-36" class="comment-time-link" itemprop="url">April 19, 2014 at 5:56 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>No, I have not seen it in a “real” project so far. But that will change as soon as critical applications switch to JEE7 application servers.</p>
<p>Having hundreds of these annotations might get a little messy <img draggable="false" class="emoji" alt="😉" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/1f609.svg"><br>But it would be similar with predefined SQL statements. You have to put the predefined stuff somewhere in the end. <br>The only alternative would be to create the statement at runtime, based on the user input. And with JPA 2.1 you could even create a dynamic entity graph for the query <img draggable="false" class="emoji" alt="😉" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/1f609.svg"><br>But creating everything at runtime has also several drawbacks…</p>
<p>Independent of your approach to define a database query, structuring a hughe application is not an easy job. And I don't think, that there is a one size fits all approach. You always need to find the best solution for your current application.</p>
<p>Regards,<br>Thorben</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/#comment-36" onclick="return addComment.moveForm( &quot;comment-36&quot;, &quot;36&quot;, &quot;respond&quot;, &quot;326&quot; )" aria-label="Reply to Thorben Janssen">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-37">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<span itemprop="name">Stephan</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-12-08T12:12:21+00:00" itemprop="datePublished"><a href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/#comment-37" class="comment-time-link" itemprop="url">December 8, 2016 at 12:12 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hello Thorben,<br>
I really like this artikle. But as my company is still unsing JPA 2.0 and I am new in this field: Is everything also possible with JPA 2.0?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/#comment-37" onclick="return addComment.moveForm( &quot;comment-37&quot;, &quot;37&quot;, &quot;respond&quot;, &quot;326&quot; )" aria-label="Reply to Stephan">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-rainmakerthoughts-on-java-org bypostauthor odd alt depth-2" id="comment-38">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<span itemprop="name">Thorben Janssen</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-01-06T06:53:48+00:00" itemprop="datePublished"><a href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/#comment-38" class="comment-time-link" itemprop="url">January 6, 2017 at 6:53 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Stephan,</p>
<p>Entity Graphs were introduced with JPA 2.1, so you can’t use them in 2.0 <img draggable="false" class="emoji" alt="🙁" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/1f641.svg"><br>
But you can use a JOIN FETCH statement instead: <a href="https://www.thoughts-on-java.org/hibernate-tips-initialize-lazy-relationships-within-query/" rel="nofollow">Hibernate Tips: How to initialize lazy relationships within a query</a></p>
<p>Regards,<br>
Thorben</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/#comment-38" onclick="return addComment.moveForm( &quot;comment-38&quot;, &quot;38&quot;, &quot;respond&quot;, &quot;326&quot; )" aria-label="Reply to Thorben Janssen">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ol></div>	<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="https://www.thoughts-on-java.org/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate="">
				<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required="required"></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required="required"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200"></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="326" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="3f644d3c26"></p><p style="display: none;"></p>			<input type="hidden" id="ak_js" name="ak_js" value="1537081310712"></form>
			</div><!-- #respond -->
	<p class="akismet_comment_form_privacy_notice">This site uses Akismet to reduce spam. <a href="https://akismet.com/privacy/" target="_blank" rel="nofollow noopener">Learn how your comment data is processed</a>.</p></main><aside class="sidebar sidebar-primary widget-area" role="complementary" aria-label="Primary Sidebar" itemscope="" itemtype="https://schema.org/WPSideBar" id="genesis-sidebar-primary"><h2 class="genesis-sidebar-title screen-reader-text">Primary Sidebar</h2><section id="text-8" class="widget widget_text"><div class="widget-wrap">			<div class="textwidget">
<div style="background-color: #f69914; padding: 40px; margin-top:-32px">
<div style="text-align: center;">
<h4>Join over 7.000 developers<br>in the<br>Thoughts on Java Library</h4>
<img src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/EbooksSidebar1.png" data-lazy-type="image" data-src="/wp-content/uploads/2016/12/EbooksSidebar1.png" alt="Ebooks Sidebar" style="margin-left: -40px; margin-right: -40px; max-width: 280px;margin-top: 25px;" class="aligncenter size-full wp-image-9496 lazy-loaded"><noscript><img src="/wp-content/uploads/2016/12/EbooksSidebar1.png" alt="Ebooks Sidebar" style="margin-left: -40px; margin-right: -40px; max-width: 280px;margin-top: 25px;" class="aligncenter size-full wp-image-9496" /></noscript>
Get free access to ebooks, cheat sheets and training videos.</div>
<div style="text-align: center;"><a class="button button-cta button-small button-block" style="margin-top: 10px;" href="https://www.thoughts-on-java.org/free-member-library-signup/?utm_source=sidebar&amp;utm_medium=blog&amp;utm_campaign=lib-sidebar" xlink="href">Join Now!</a></div></div>
</div>
		</div></section>
<section id="custom_html-4" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><div class="textwidget custom-html-widget"><div style="max-width: none; margin-left: -40px;">
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" data-cookieconsent="marketing"></script>
<!-- Horizontal top 2 -->
<ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-3522391863832336" data-ad-slot="1481779892" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:336px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:336px;background-color:transparent;"><iframe width="336" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;width:336px;height:280px;" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/saved_resource(2).html"></iframe></ins></ins></ins>
<script data-cookieconsent="marketing">
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<div style="text-align: center">Don't like ads?<br>
<a href="https://www.thoughts-on-java.org/become-a-thoughts-on-java-supporter/" target="_blank">Become a Thoughts on Java Supporter.</a></div>
</div>  </div></div></section>
<section id="text-4" class="widget widget_text"><div class="widget-wrap">			<div class="textwidget"><a href="http://www.hibernate-tips.com/?utm_source=BookLaunch&amp;utm_medium=Sidebar" xlink="href"><img class="aligncenter size-full wp-image-13206 lazy-loaded" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/HibernateTipsBook1.png" data-lazy-type="image" data-src="/wp-content/uploads/2017/04/HibernateTipsBook1.png" alt="Special Launch Price" width="330" height="330" style="max-width: none; margin-left: -40px; margin-bottom: 32px"><noscript><img class="aligncenter size-full wp-image-13206" src="/wp-content/uploads/2017/04/HibernateTipsBook1.png" alt="Special Launch Price" width="330" height="330" style="max-width: none; margin-left: -40px; margin-bottom: 32px"></noscript></a></div>
		</div></section>
<section id="text-3" class="widget widget_text"><div class="widget-wrap"><h3 class="widgettitle widget-title">Let’s Connect</h3>
			<div class="textwidget"><div style="text-align: center;margin-top: 15px;width:100%;margin-bottom:-20px;"><img class="profile-foto-sidebar lazy-loaded" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/ThorbenJanssen140x140.png" data-lazy-type="image" data-src="/wp-content/uploads/2015/11/ThorbenJanssen140x140.png"><noscript><img class="profile-foto-sidebar" src="/wp-content/uploads/2015/11/ThorbenJanssen140x140.png"></noscript><br>
<a href="https://www.thoughts-on-java.org/about/" style="font-size: 18px">Thorben Janssen</a><br>
Independent consultant, trainer and author</div></div>
		</div></section>
<section id="simple-social-icons-2" class="widget simple-social-icons"><div class="widget-wrap"><ul class="aligncenter"><li class="ssi-facebook"><a href="https://www.facebook.com/thoughtsonjava"><svg role="img" class="social-facebook" aria-labelledby="social-facebook"><title id="social-facebook">Facebook</title><use xlink:href="https://www.thoughts-on-java.org/wp-content/plugins/simple-social-icons/symbol-defs.svg#social-facebook"></use></svg></a></li><li class="ssi-github"><a href="https://github.com/thjanssen"><svg role="img" class="social-github" aria-labelledby="social-github"><title id="social-github">Github</title><use xlink:href="https://www.thoughts-on-java.org/wp-content/plugins/simple-social-icons/symbol-defs.svg#social-github"></use></svg></a></li><li class="ssi-gplus"><a href="https://plus.google.com/u/0/104438663880735057595?rel=author"><svg role="img" class="social-gplus" aria-labelledby="social-gplus"><title id="social-gplus">Google+</title><use xlink:href="https://www.thoughts-on-java.org/wp-content/plugins/simple-social-icons/symbol-defs.svg#social-gplus"></use></svg></a></li><li class="ssi-linkedin"><a href="https://www.linkedin.com/in/thorbenjanssen/"><svg role="img" class="social-linkedin" aria-labelledby="social-linkedin"><title id="social-linkedin">Linkedin</title><use xlink:href="https://www.thoughts-on-java.org/wp-content/plugins/simple-social-icons/symbol-defs.svg#social-linkedin"></use></svg></a></li><li class="ssi-twitter"><a href="https://twitter.com/thjanssen123"><svg role="img" class="social-twitter" aria-labelledby="social-twitter"><title id="social-twitter">Twitter</title><use xlink:href="https://www.thoughts-on-java.org/wp-content/plugins/simple-social-icons/symbol-defs.svg#social-twitter"></use></svg></a></li><li class="ssi-xing"><a href="https://www.xing.com/profile/Thorben_Janssen"><svg role="img" class="social-xing" aria-labelledby="social-xing"><title id="social-xing">Xing</title><use xlink:href="https://www.thoughts-on-java.org/wp-content/plugins/simple-social-icons/symbol-defs.svg#social-xing"></use></svg></a></li><li class="ssi-youtube"><a href="https://www.youtube.com/channel/UCYeDPubBiFCZXIOgGYoyADw"><svg role="img" class="social-youtube" aria-labelledby="social-youtube"><title id="social-youtube">YouTube</title><use xlink:href="https://www.thoughts-on-java.org/wp-content/plugins/simple-social-icons/symbol-defs.svg#social-youtube"></use></svg></a></li></ul></div></section>
<section id="custom_html-3" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><h3 class="widgettitle widget-title">Speaking at</h3>
<div class="textwidget custom-html-widget"><b>11th September 2018</b><br>
<b>Workshop-Tage 2018 (Switzerland):</b><br>
<a href="https://workshoptage.ch/workshops/2018/hibernate-fuer-fortgeschrittene-2/" target="_blank" rel="nofollow">
Hibernate für Fortgeschrittene (1-day Workshop - German)</a>
<br><br>
<b>12th September 2018</b><br>
<b>Workshop-Tage 2018 (Switzerland):</b><br>
<a href="https://workshoptage.ch/workshops/2018/hibernate-jooq-flyway-die-besten-relationalen-persistenzframeworks-in-einem-stack/" target="_blank" rel="nofollow">
Hibernate + jOOQ + Flyway = Die besten relationalen Persistenzframeworks in einem Stack (1-day Workshop - German)</a>
<br><br>
<b>13th September 2018</b><br>
<b>Workshop-Tage 2018 (Switzerland):</b><br>
<a href="https://workshoptage.ch/workshops/2018/spring-data-jdbc-der-neue-stern-am-persistenzhimmel/" target="_blank" rel="nofollow">
Spring Data JDBC – Der neue Stern am Persistenzhimmel? (1-day Workshop - German)</a>
<br><br>
<b>9th-10th October 2018</b><br>
<b>Geecon (Poland):</b><br>
<a href="https://classes.geecon.org/jpa/" target="_blank" rel="nofollow">
Performance Tuning with JPA 2.2 and Hibernate Workshop (2-day Workshop - English)</a>
<br><br>
<b>5th-9th November 2018</b><br>
<b>W-JAX 2018 (Germany):</b><br>
<a href="https://jax.de/serverside-enterprise-java/hibernate-workshop-performance-tuning-fuer-enterprise-anwendungen/" target="_blank" rel="nofollow">
Hibernate-Workshop – Performance-Tuning für Enterprise-Anwendungen (1-day Workshop - German</a>
<br><br>
<b>5th-9th November 2018</b><br>
<b>W-JAX 2018 (Germany):</b><br>
<a href="https://jax.de/serverside-enterprise-java/das-hibernate-universum-fernab-bekannter-crud-galaxien/" target="_blank" rel="nofollow">
Das Hibernate-Universum – Fernab bekannter CRUD-Galaxien (Talk - German)</a>
<br><br>
Looking for an <a href="https://www.thoughts-on-java.org/onsite-training/">on-site training</a>?</div></div></section>
<section id="featured-post-2" class="widget featured-content featuredpost"><div class="widget-wrap"><h3 class="widgettitle widget-title">Featured Post</h3>
<article class="post-18584 post type-post status-publish format-standard has-post-thumbnail category-featured category-hibernate category-jpa entry"><a href="https://www.thoughts-on-java.org/hibernate-getting-started/" class="alignnone" aria-hidden="true"><img width="300" height="167" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/Hibernate-Getting-Started-300x167.png" data-lazy-type="image" data-src="https://www.thoughts-on-java.org/wp-content/uploads/2017/12/Hibernate-Getting-Started-300x167.png" class="entry-image attachment-post lazy-loaded" alt="Getting Started With Hibernate" itemprop="image" srcset="https://www.thoughts-on-java.org/wp-content/uploads/2017/12/Hibernate-Getting-Started-300x167.png 300w, https://www.thoughts-on-java.org/wp-content/uploads/2017/12/Hibernate-Getting-Started-768x427.png 768w, https://www.thoughts-on-java.org/wp-content/uploads/2017/12/Hibernate-Getting-Started.png 810w" data-srcset="" sizes="(max-width: 300px) 100vw, 300px"><noscript><img width="300" height="167" src="https://www.thoughts-on-java.org/wp-content/uploads/2017/12/Hibernate-Getting-Started-300x167.png" class="entry-image attachment-post" alt="Getting Started With Hibernate" itemprop="image" srcset="https://www.thoughts-on-java.org/wp-content/uploads/2017/12/Hibernate-Getting-Started-300x167.png 300w, https://www.thoughts-on-java.org/wp-content/uploads/2017/12/Hibernate-Getting-Started-768x427.png 768w, https://www.thoughts-on-java.org/wp-content/uploads/2017/12/Hibernate-Getting-Started.png 810w" sizes="(max-width: 300px) 100vw, 300px" /></noscript></a><header class="entry-header"><h4 class="entry-title" itemprop="headline"><a href="https://www.thoughts-on-java.org/hibernate-getting-started/">Getting Started With Hibernate</a></h4></header></article><article class="post-18546 post type-post status-publish format-standard has-post-thumbnail category-featured category-uncategorized entry"><a href="https://www.thoughts-on-java.org/java-youtube-2018/" class="alignnone" aria-hidden="true"><img width="300" height="167" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/12-Java-YouTube-Channels-You-Should-Follow-In-2018-300x167.png" data-lazy-type="image" data-src="https://www.thoughts-on-java.org/wp-content/uploads/2017/12/12-Java-YouTube-Channels-You-Should-Follow-In-2018-300x167.png" class="entry-image attachment-post lazy-loaded" alt="12 Java YouTube Channels You Should Follow In 2018" itemprop="image" srcset="https://www.thoughts-on-java.org/wp-content/uploads/2017/12/12-Java-YouTube-Channels-You-Should-Follow-In-2018-300x167.png 300w, https://www.thoughts-on-java.org/wp-content/uploads/2017/12/12-Java-YouTube-Channels-You-Should-Follow-In-2018-768x427.png 768w, https://www.thoughts-on-java.org/wp-content/uploads/2017/12/12-Java-YouTube-Channels-You-Should-Follow-In-2018.png 810w" data-srcset="" sizes="(max-width: 300px) 100vw, 300px"><noscript><img width="300" height="167" src="https://www.thoughts-on-java.org/wp-content/uploads/2017/12/12-Java-YouTube-Channels-You-Should-Follow-In-2018-300x167.png" class="entry-image attachment-post" alt="12 Java YouTube Channels You Should Follow In 2018" itemprop="image" srcset="https://www.thoughts-on-java.org/wp-content/uploads/2017/12/12-Java-YouTube-Channels-You-Should-Follow-In-2018-300x167.png 300w, https://www.thoughts-on-java.org/wp-content/uploads/2017/12/12-Java-YouTube-Channels-You-Should-Follow-In-2018-768x427.png 768w, https://www.thoughts-on-java.org/wp-content/uploads/2017/12/12-Java-YouTube-Channels-You-Should-Follow-In-2018.png 810w" sizes="(max-width: 300px) 100vw, 300px" /></noscript></a><header class="entry-header"><h4 class="entry-title" itemprop="headline"><a href="https://www.thoughts-on-java.org/java-youtube-2018/">12 Java YouTube Channels You Should Follow In 2018</a></h4></header></article><article class="post-14293 post type-post status-publish format-standard has-post-thumbnail category-featured category-hibernate category-jpa entry"><a href="https://www.thoughts-on-java.org/ultimate-guide-association-mappings-jpa-hibernate/" class="alignnone" aria-hidden="true"><img width="300" height="167" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/EntityMappings-UltimateGuidetoAssociationMappings1-300x167.png" data-lazy-type="image" data-src="https://www.thoughts-on-java.org/wp-content/uploads/2017/05/EntityMappings-UltimateGuidetoAssociationMappings1-300x167.png" class="entry-image attachment-post lazy-loaded" alt="Ultimate Guide – Association Mappings with JPA and Hibernate" itemprop="image" srcset="https://www.thoughts-on-java.org/wp-content/uploads/2017/05/EntityMappings-UltimateGuidetoAssociationMappings1-300x167.png 300w, https://www.thoughts-on-java.org/wp-content/uploads/2017/05/EntityMappings-UltimateGuidetoAssociationMappings1-768x427.png 768w, https://www.thoughts-on-java.org/wp-content/uploads/2017/05/EntityMappings-UltimateGuidetoAssociationMappings1-1024x569.png 1024w" data-srcset="" sizes="(max-width: 300px) 100vw, 300px"><noscript><img width="300" height="167" src="https://www.thoughts-on-java.org/wp-content/uploads/2017/05/EntityMappings-UltimateGuidetoAssociationMappings1-300x167.png" class="entry-image attachment-post" alt="Ultimate Guide &#8211; Association Mappings with JPA and Hibernate" itemprop="image" srcset="https://www.thoughts-on-java.org/wp-content/uploads/2017/05/EntityMappings-UltimateGuidetoAssociationMappings1-300x167.png 300w, https://www.thoughts-on-java.org/wp-content/uploads/2017/05/EntityMappings-UltimateGuidetoAssociationMappings1-768x427.png 768w, https://www.thoughts-on-java.org/wp-content/uploads/2017/05/EntityMappings-UltimateGuidetoAssociationMappings1-1024x569.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></noscript></a><header class="entry-header"><h4 class="entry-title" itemprop="headline"><a href="https://www.thoughts-on-java.org/ultimate-guide-association-mappings-jpa-hibernate/">Ultimate Guide – Association Mappings with JPA and Hibernate</a></h4></header></article><article class="post-3080 post type-post status-publish format-standard has-post-thumbnail category-featured category-hibernate category-jpa category-jpa2-1 entry"><a href="https://www.thoughts-on-java.org/jpql/" class="alignnone" aria-hidden="true"><img width="300" height="167" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/UltimateGuidetoJPQLQuerieswithJPAandHibernate-300x167.png" data-lazy-type="image" data-src="https://www.thoughts-on-java.org/wp-content/uploads/2017/01/UltimateGuidetoJPQLQuerieswithJPAandHibernate-300x167.png" class="entry-image attachment-post lazy-loaded" alt="Ultimate Guide to JPQL Queries with JPA and Hibernate" itemprop="image" srcset="https://www.thoughts-on-java.org/wp-content/uploads/2017/01/UltimateGuidetoJPQLQuerieswithJPAandHibernate-300x167.png 300w, https://www.thoughts-on-java.org/wp-content/uploads/2017/01/UltimateGuidetoJPQLQuerieswithJPAandHibernate-768x427.png 768w, https://www.thoughts-on-java.org/wp-content/uploads/2017/01/UltimateGuidetoJPQLQuerieswithJPAandHibernate-1024x569.png 1024w" data-srcset="" sizes="(max-width: 300px) 100vw, 300px"><noscript><img width="300" height="167" src="https://www.thoughts-on-java.org/wp-content/uploads/2017/01/UltimateGuidetoJPQLQuerieswithJPAandHibernate-300x167.png" class="entry-image attachment-post" alt="Ultimate Guide to JPQL Queries with JPA and Hibernate" itemprop="image" srcset="https://www.thoughts-on-java.org/wp-content/uploads/2017/01/UltimateGuidetoJPQLQuerieswithJPAandHibernate-300x167.png 300w, https://www.thoughts-on-java.org/wp-content/uploads/2017/01/UltimateGuidetoJPQLQuerieswithJPAandHibernate-768x427.png 768w, https://www.thoughts-on-java.org/wp-content/uploads/2017/01/UltimateGuidetoJPQLQuerieswithJPAandHibernate-1024x569.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></noscript></a><header class="entry-header"><h4 class="entry-title" itemprop="headline"><a href="https://www.thoughts-on-java.org/jpql/">Ultimate Guide to JPQL Queries with JPA and Hibernate</a></h4></header></article><article class="post-4646 post type-post status-publish format-standard has-post-thumbnail category-featured category-hibernate entry"><a href="https://www.thoughts-on-java.org/hibernate-best-practices/" class="alignnone" aria-hidden="true"><img width="300" height="167" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/Hibernate-BestPractices-300x167.jpg" data-lazy-type="image" data-src="https://www.thoughts-on-java.org/wp-content/uploads/2016/09/Hibernate-BestPractices-300x167.jpg" class="entry-image attachment-post lazy-loaded" alt="Hibernate Best Practices" itemprop="image" srcset="https://www.thoughts-on-java.org/wp-content/uploads/2016/09/Hibernate-BestPractices-300x167.jpg 300w, https://www.thoughts-on-java.org/wp-content/uploads/2016/09/Hibernate-BestPractices-768x427.jpg 768w, https://www.thoughts-on-java.org/wp-content/uploads/2016/09/Hibernate-BestPractices.jpg 810w" data-srcset="" sizes="(max-width: 300px) 100vw, 300px"><noscript><img width="300" height="167" src="https://www.thoughts-on-java.org/wp-content/uploads/2016/09/Hibernate-BestPractices-300x167.jpg" class="entry-image attachment-post" alt="Hibernate Best Practices" itemprop="image" srcset="https://www.thoughts-on-java.org/wp-content/uploads/2016/09/Hibernate-BestPractices-300x167.jpg 300w, https://www.thoughts-on-java.org/wp-content/uploads/2016/09/Hibernate-BestPractices-768x427.jpg 768w, https://www.thoughts-on-java.org/wp-content/uploads/2016/09/Hibernate-BestPractices.jpg 810w" sizes="(max-width: 300px) 100vw, 300px" /></noscript></a><header class="entry-header"><h4 class="entry-title" itemprop="headline"><a href="https://www.thoughts-on-java.org/hibernate-best-practices/">Hibernate Best Practices</a></h4></header></article></div></section>
		<section id="recent-posts-2" class="widget widget_recent_entries"><div class="widget-wrap">		<h3 class="widgettitle widget-title">Recent Posts</h3>
		<ul>
											<li>
					<a href="https://www.thoughts-on-java.org/hibernate-tips-validate-1-of-2-associations-not-null/">Hibernate Tips: Validate that only 1 of 2 associations is not null</a>
									</li>
											<li>
					<a href="https://www.thoughts-on-java.org/join-the-jpa-for-beginners-beta-group/">Join the “JPA for Beginners Beta Group”</a>
									</li>
											<li>
					<a href="https://www.thoughts-on-java.org/hibernate-tips-map-1-attribute-2-columns/">Hibernate Tips: Map 1 Entity Attribute to 2 Columns</a>
									</li>
											<li>
					<a href="https://www.thoughts-on-java.org/custom-sequence-based-idgenerator/">How to Implement a Custom, Sequence-Based ID Generator</a>
									</li>
											<li>
					<a href="https://www.thoughts-on-java.org/permanently-remove-when-using-soft-delete/">Hibernate Tips: Permanently remove records when using soft delete</a>
									</li>
											<li>
					<a href="https://www.thoughts-on-java.org/lazy-load-non-relational-attributes/">How to lazily load non-relational attributes in a portable way</a>
									</li>
											<li>
					<a href="https://www.thoughts-on-java.org/hibernate-tips-unidirectional-one-to-many-association-without-junction-table/">Hibernate Tips: Map an Unidirectional One-to-Many Association Without a Junction Table</a>
									</li>
											<li>
					<a href="https://www.thoughts-on-java.org/hibernate-tips-get-the-sql-connection-used-by-your-hibernate-session/">Hibernate Tips: Get the SQL Connection used by your Hibernate Session</a>
									</li>
											<li>
					<a href="https://www.thoughts-on-java.org/hibernate-5-3/">5 Reasons and 101 Bugfixes – Why You Should Use Hibernate 5.3</a>
									</li>
											<li>
					<a href="https://www.thoughts-on-java.org/update-database-schema-without-downtime/">Update your Database Schema Without Downtime</a>
									</li>
					</ul>
		</div></section>
<section id="custom_html-5" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><div class="textwidget custom-html-widget"><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" data-cookieconsent="marketing"></script>
<!-- Sidebar bottom -->
<ins class="adsbygoogle" style="display: block; height: 417px;" data-ad-client="ca-pub-3522391863832336" data-ad-slot="5112250757" data-ad-format="auto" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display: inline-table; border: none; height: 417px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 250px; background-color: transparent;"><ins id="aswift_1_anchor" style="display: block; border: none; height: 417px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 250px; background-color: transparent; overflow: hidden;"><iframe width="250" height="417" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left: 0px; position: absolute; top: 0px; width: 250px; height: 417px;" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/saved_resource(3).html"></iframe></ins></ins></ins>
<script data-cookieconsent="marketing">
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<div style="text-align: center">Don't like ads?<br>
<a href="https://www.thoughts-on-java.org/become-a-thoughts-on-java-supporter/" target="_blank">Become a Thoughts on Java Supporter.</a></div>  </div></div></section>
</aside></div></div></div><footer class="site-footer" itemscope="" itemtype="https://schema.org/WPFooter"><div class="wrap"><p>Copyright ©&nbsp;2018 <a href="https://www.thoughts-on-java.org/">Thoughts on Java</a></p><nav class="nav-secondary" aria-label="Secondary" itemscope="" itemtype="https://schema.org/SiteNavigationElement"><div class="wrap"><ul id="menu-widget-menu" class="menu genesis-nav-menu menu-secondary js-superfish sf-js-enabled sf-arrows" style="touch-action: pan-y;"><li id="menu-item-14876" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14876"><a href="https://www.thoughts-on-java.org/impressum/" itemprop="url"><span itemprop="name">Impressum</span></a></li>
<li id="menu-item-14877" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14877"><a href="https://www.thoughts-on-java.org/disclaimer/" itemprop="url"><span itemprop="name">Disclaimer</span></a></li>
<li id="menu-item-19553" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-19553"><a href="https://www.thoughts-on-java.org/datenschutz/" itemprop="url"><span itemprop="name">Privacy Policy</span></a></li>
</ul></div></nav></div></footer></div><span style="display:none" class="tl-placeholder-f-type-lightbox"></span>



<script type="text/javascript">
/* <![CDATA[ */
var tve_frontend_options = {"is_editor_page":"","page_events":[],"is_single":"1","ajaxurl":"https:\/\/www.thoughts-on-java.org\/wp-admin\/admin-ajax.php","social_fb_app_id":"","dash_url":"https:\/\/www.thoughts-on-java.org\/wp-content\/plugins\/thrive-visual-editor\/thrive-dashboard","translations":{"Copy":"Copy"}};
/* ]]> */
</script>







<script type="text/javascript">
/* <![CDATA[ */
var tve_dash_front = {"ajaxurl":"https:\/\/www.thoughts-on-java.org\/wp-admin\/admin-ajax.php","force_ajax_send":"","is_crawler":""};
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
var a3_lazyload_params = {"apply_images":"1","apply_videos":""};
/* ]]> */
</script>


<script type="text/javascript">
/* <![CDATA[ */
var a3_lazyload_extend_params = {"edgeY":"0"};
/* ]]> */
</script>



<script type="text/javascript">/*<![CDATA[*/if ( !window.TL_Const ) {var TL_Const={"security":"2eca20f4d2","ajax_url":"https:\/\/www.thoughts-on-java.org\/wp-admin\/admin-ajax.php","forms":[],"action_conversion":"tve_leads_ajax_conversion","action_impression":"tve_leads_ajax_impression","ajax_load":1,"main_group_id":17646,"display_options":{"allowed_post_types":[],"flag_url_match":false},"custom_post_data":{"http_referrer":"https:\/\/www.google.com\/"},"current_screen":{"screen_type":4,"screen_id":326},"ignored_fields":["email","_captcha_size","_captcha_theme","_captcha_type","_submit_option","_use_captcha","g-recaptcha-response","__tcb_lg_fc","__tcb_lg_msg","_state","_form_type","_error_message_option","_back_url","_submit_option","url","_asset_group","_asset_option","mailchimp_optin"]};} else {ThriveGlobal.$j.extend(true, TL_Const, {"security":"2eca20f4d2","ajax_url":"https:\/\/www.thoughts-on-java.org\/wp-admin\/admin-ajax.php","forms":[],"action_conversion":"tve_leads_ajax_conversion","action_impression":"tve_leads_ajax_impression","ajax_load":1,"main_group_id":17646,"display_options":{"allowed_post_types":[],"flag_url_match":false},"custom_post_data":{"http_referrer":"https:\/\/www.google.com\/"},"current_screen":{"screen_type":4,"screen_id":326},"ignored_fields":["email","_captcha_size","_captcha_theme","_captcha_type","_submit_option","_use_captcha","g-recaptcha-response","__tcb_lg_fc","__tcb_lg_msg","_state","_form_type","_error_message_option","_back_url","_submit_option","url","_asset_group","_asset_option","mailchimp_optin"]})} /*]]> */</script><script type="text/javascript" defer="" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/autoptimize_54c7e2649c9950bafb87e5ad8ae32cc8.js.download"></script>
<iframe id="google_osd_static_frame_6812320680818" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;" src="./JPA 2.1 Entity Graph _ Part 2- Define lazy_eager loading at runtime - Thoughts on Java_files/saved_resource(4).html"></iframe></body></html>