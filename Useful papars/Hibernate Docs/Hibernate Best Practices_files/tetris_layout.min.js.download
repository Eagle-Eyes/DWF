(function(){var g,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},k="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,ba=function(){ba=function(){};k.Symbol||(k.Symbol=ca)},ca=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}(),ea=function(){ba();var a=k.Symbol.iterator;a||(a=k.Symbol.iterator=k.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&
aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return da(this)}});ea=function(){}},da=function(a){var b=0;return fa(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})},fa=function(a){ea();a={next:a};a[k.Symbol.iterator]=function(){return this};return a},ha=function(a){if(a){for(var b=k,c=["WeakMap"],d=0;d<c.length-1;d++){var e=c[d];e in b||(b[e]={});b=b[e]}c=c[c.length-1];d=b[c];a=a(d);a!=d&&null!=a&&aa(b,c,{configurable:!0,writable:!0,value:a})}},l=function(a,b){return Object.prototype.hasOwnProperty.call(a,
b)};
ha(function(a){function b(a){l(a,d)||aa(a,d,{value:{}})}function c(a){var c=Object[a];c&&(Object[a]=function(a){b(a);return c(a)})}if(function(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d["delete"](b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(Dd){return!1}}())return a;var d="$jscomp_hidden_"+Math.random();c("freeze");c("preventExtensions");c("seal");var e=0,f=function(a){this.S=(e+=Math.random()+1).toString();if(a){ba();
ea();ea();var b=a[Symbol.iterator];for(a=b?b.call(a):da(a);!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};f.prototype.set=function(a,c){b(a);if(!l(a,d))throw Error("WeakMap key fail: "+a);a[d][this.S]=c;return this};f.prototype.get=function(a){return l(a,d)?a[d][this.S]:void 0};f.prototype.has=function(a){return l(a,d)&&l(a[d],this.S)};f.prototype["delete"]=function(a){return l(a,d)&&l(a[d],this.S)?delete a[d][this.S]:!1};return f});
var m=this,n=function(a){return void 0!==a},q=function(a){return"string"==typeof a},ia=function(a){a=a.split(".");for(var b=m,c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b},ja=function(){},ka=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&
!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},r=function(a){return"array"==ka(a)},la=function(a){var b=ka(a);return"array"==b||"object"==b&&"number"==typeof a.length},ma=function(a){return"function"==ka(a)},t=function(a){var b=typeof a;return"object"==b&&null!=
a||"function"==b},na="closure_uid_"+(1E9*Math.random()>>>0),oa=0,pa=function(a,b,c){return a.call.apply(a.bind,arguments)},qa=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},u=function(a,b,c){u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?
pa:qa;return u.apply(null,arguments)},v=Date.now||function(){return+new Date},w=function(a,b){a=a.split(".");var c=m;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&n(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}},x=function(a,b){function c(){}c.prototype=b.prototype;a.w=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ob=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];
return b.prototype[c].apply(a,d)}};var ra={HEADER_CTA_CLICKED:"Header CTA clicked",IMAGE_GALLERY_CTA_CLICKED:"Image gallery CTA clicked",LOGO_CLICKED:"Logo clicked",PRODUCT_GALLERY_PRODUCT_CLICKED:"Product gallery product clicked",SOCIAL_LINK_CLICKED:"Social link clicked"},sa={VIDEO_THUMB_INITIALIZED:"video_thumb_initialized",VIDEO_THUMB_INITIALIZED_1S:"video_thumb_initialized_1s",VIDEO_THUMB_INITIALIZED_3S:"video_thumb_initialized_3s",VIDEO_THUMB_INITIALIZED_5S:"video_thumb_initialized_5s",VIDEO_THUMB_INITIALIZED_10S:"video_thumb_initialized_10s",
VIDEO_THUMB_INITIALIZED_20S:"video_thumb_initialized_20s",AUTO_PREVIEW_STARTED_PLAYING:"autopreview_started_playing",AUTO_PREVIEW_PLAYING_2S:"autopreview_playing_2s",TETRIS_BECAME_ACTIVE:"tetris_became_active",TETRIS_BECAME_IDLE:"tetris_became_idle"},ta={GOOGLE_MAPS_API_FAILURE:"google_maps_api_failure",ENGAGEMENT_STATE_FAILURE:"engagement_state_failure",WEB_FONT_API_FAILURE:"web_font_api_failure",YOUTUBE_IFRAME_API_FAILURE:"youtube_iframe_api_failure",OSD_TIMED_OUT:"osd_timed_out"};var y=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,y);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};x(y,Error);y.prototype.name="CustomError";var ua;var va=function(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");y.call(this,c+a[d])};x(va,y);va.prototype.name="AssertionError";
var wa=function(a,b,c,d){var e="Assertion failed";if(c){e+=": "+c;var f=d}else a&&(e+=": "+a,f=b);throw new va(""+e,f||[]);},z=function(a,b,c){a||wa("",null,b,Array.prototype.slice.call(arguments,2))},xa=function(a,b){throw new va("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));},ya=function(a,b,c){q(a)||wa("Expected string but got %s: %s.",[ka(a),a],b,Array.prototype.slice.call(arguments,2));return a};var za=Array.prototype.indexOf?function(a,b){z(null!=a.length);return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(q(a))return q(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Aa=Array.prototype.forEach?function(a,b){z(null!=a.length);Array.prototype.forEach.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=q(a)?a.split(""):a,e=0;e<c;e++)e in d&&b.call(void 0,d[e],e,a)},Ba=Array.prototype.filter?function(a,b){z(null!=a.length);
return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=[],e=0,f=q(a)?a.split(""):a,h=0;h<c;h++)if(h in f){var p=f[h];b.call(void 0,p,h,a)&&(d[e++]=p)}return d},Ca=Array.prototype.map?function(a,b){z(null!=a.length);return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=Array(c),e=q(a)?a.split(""):a,f=0;f<c;f++)f in e&&(d[f]=b.call(void 0,e[f],f,a));return d},Da=function(a,b){b=za(a,b);var c;if(c=0<=b)z(null!=a.length),Array.prototype.splice.call(a,
b,1);return c},Ea=function(a){return Array.prototype.concat.apply([],arguments)},Fa=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Ga=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(la(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var h=0;h<f;h++)a[e+h]=d[h]}else a.push(d)}};var Ha=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Pa=function(a){if(!Ia.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ja,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ka,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(La,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ma,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Na,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Oa,"&#0;"));return a},Ja=/&/g,Ka=/</g,La=/>/g,Ma=/"/g,Na=/'/g,Oa=/\x00/g,Ia=
/[\x00&<>"']/,Qa=function(a,b){return a<b?-1:a>b?1:0},Ra=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})},Sa=function(a){var b=q(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var A;a:{var Ta=m.navigator;if(Ta){var Ua=Ta.userAgent;if(Ua){A=Ua;break a}}A=""}var B=function(a){return-1!=A.indexOf(a)};var Va=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Wa=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1},Xa=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1},Ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Za=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ya.length;f++)c=Ya[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var $a=function(){return B("iPhone")&&!B("iPod")&&!B("iPad")||B("iPad")||B("iPod")};var ab=function(a){ab[" "](a);return a};ab[" "]=ja;var cb=function(a,b){var c=bb;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var db=B("Opera"),C=B("Trident")||B("MSIE"),eb=B("Edge"),fb=B("Gecko")&&!(-1!=A.toLowerCase().indexOf("webkit")&&!B("Edge"))&&!(B("Trident")||B("MSIE"))&&!B("Edge"),gb=-1!=A.toLowerCase().indexOf("webkit")&&!B("Edge"),hb=function(){var a=m.document;return a?a.documentMode:void 0},ib;
a:{var jb="",kb=function(){var a=A;if(fb)return/rv:([^\);]+)(\)|;)/.exec(a);if(eb)return/Edge\/([\d\.]+)/.exec(a);if(C)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(gb)return/WebKit\/(\S+)/.exec(a);if(db)return/(?:Version)[ \/]?(\S+)/.exec(a)}();kb&&(jb=kb?kb[1]:"");if(C){var lb=hb();if(null!=lb&&lb>parseFloat(jb)){ib=String(lb);break a}}ib=jb}
var mb=ib,bb={},nb=function(a){return cb(a,function(){for(var b=0,c=Ha(String(mb)).split("."),d=Ha(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",p=d[f]||"";do{h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""];if(0==h[0].length&&0==p[0].length)break;b=Qa(0==h[1].length?0:parseInt(h[1],10),0==p[1].length?0:parseInt(p[1],10))||Qa(0==h[2].length,0==p[2].length)||Qa(h[2],p[2]);h=h[3];p=p[3]}while(0==b)}return 0<=b})},ob;var pb=m.document;
ob=pb&&C?hb()||("CSS1Compat"==pb.compatMode?parseInt(mb,10):5):void 0;var qb=Object.freeze||function(a){return a};var rb=function(a,b,c){this.reset(a,b,c,void 0,void 0)};rb.prototype.Ja=null;var sb=0;rb.prototype.reset=function(a,b,c,d,e){"number"==typeof e||sb++;d||v();this.V=a;this.zb=b;delete this.Ja};rb.prototype.setLevel=function(a){this.V=a};rb.prototype.getMessage=function(){return this.zb};var D=function(a){this.Za=a;this.R=this.na=this.V=this.ia=null},E=function(a,b){this.name=a;this.value=b};E.prototype.toString=function(){return this.name};var tb=new E("SHOUT",1200),ub=new E("SEVERE",1E3),vb=new E("WARNING",900),wb=new E("INFO",800),xb=new E("CONFIG",700),yb=new E("FINE",500),zb=new E("FINER",400),Ab=new E("FINEST",300);D.prototype.getName=function(){return this.Za};D.prototype.getParent=function(){return this.ia};D.prototype.getChildren=function(){this.na||(this.na={});return this.na};
D.prototype.setLevel=function(a){this.V=a};var Bb=function(a){if(a.V)return a.V;if(a.ia)return Bb(a.ia);xa("Root logger has no level set.");return null};g=D.prototype;g.log=function(a,b,c){if(a.value>=Bb(this).value)for(ma(b)&&(b=b()),a=new rb(a,String(b),this.Za),c&&(a.Ja=c),c=this;c;){var d=c,e=a;if(d.R)for(var f=0;b=d.R[f];f++)b(e);c=c.getParent()}};g.shout=function(a,b){this.log(tb,a,b)};g.severe=function(a,b){this.log(ub,a,b)};g.warning=function(a,b){this.log(vb,a,b)};
g.info=function(a,b){this.log(wb,a,b)};g.config=function(a,b){this.log(xb,a,b)};g.fine=function(a,b){this.log(yb,a,b)};g.finer=function(a,b){this.log(zb,a,b)};g.finest=function(a,b){this.log(Ab,a,b)};var Cb={},Db=null,Eb=function(a){Db||(Db=new D(""),Cb[""]=Db,Db.setLevel(xb));var b;if(!(b=Cb[a])){b=new D(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=Eb(a.substr(0,c));c.getChildren()[d]=b;b.ia=c;Cb[a]=b}return b};var Fb;Fb=Eb("studioinnovation.layouts.lightbox.tetris.utils");
var Gb=function(a,b){if(Xa(ta,a))var c="sampledError";else if(Xa(sa,a))c="sampledInfo";else{Fb&&Fb.severe('"'+a+'" must be in the Info or Error enum to be reported.',void 0);return}a="CreativeToolset.internals.gen204."+c+'("'+a+'", '+JSON.stringify(b)+", 1);";Enabler.invokeExternalJsFunction(a)},F=function(a,b){var c=Array(arguments.length);c[0]=null;for(var d=1;d<arguments.length;++d)c[d]=arguments[d];return new (Function.prototype.bind.apply(a,c))};var Hb=!fb&&!C||C&&9<=Number(ob)||fb&&nb("1.9.1");var Ib=function(a,b){var c=0;return function(d){m.clearTimeout(c);var e=arguments;c=m.setTimeout(function(){a.apply(b,e)},500)}};var Jb=function(a){var b=!1,c;return function(){b||(c=a(),b=!0);return c}}(function(){if("undefined"===typeof document)return!1;var a=document.createElement("div");a.innerHTML="<div><div></div></div>";if(!a.firstChild)return!1;var b=a.firstChild.firstChild;a.innerHTML="";return!b.parentElement});var Kb=function(a,b){this.width=a;this.height=b};g=Kb.prototype;g.clone=function(){return new Kb(this.width,this.height)};g.toString=function(){return"("+this.width+" x "+this.height+")"};g.aspectRatio=function(){return this.width/this.height};g.da=function(){return!(this.width*this.height)};g.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};g.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
g.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};g.scale=function(a,b){this.width*=a;this.height*="number"==typeof b?b:a;return this};var Lb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Mb=function(){var a=window.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Kb(a.clientWidth,a.clientHeight)},Nb=function(a,b,c){function d(c){c&&b.appendChild(q(c)?a.createTextNode(c):c)}for(var e=1;e<c.length;e++){var f=c[e];if(!la(f)||
t(f)&&0<f.nodeType)d(f);else{a:{if(f&&"number"==typeof f.length){if(t(f)){var h="function"==typeof f.item||"string"==typeof f.item;break a}if(ma(f)){h="function"==typeof f.item;break a}}h=!1}Aa(h?Fa(f):f,d)}}},Ob=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null},Pb=function(){this.F=m.document||document};g=Pb.prototype;g.getElement=function(a){return q(a)?this.F.getElementById(a):a};g.getElementsByTagName=function(a,b){return(b||this.F).getElementsByTagName(String(a))};
g.setProperties=function(a,b){Va(b,function(b,d){b&&"object"==typeof b&&b.Rb&&(b=b.Qb());"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Lb.hasOwnProperty(d)?a.setAttribute(Lb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})};g.createElement=function(a){return this.F.createElement(String(a))};g.createTextNode=function(a){return this.F.createTextNode(String(a))};g.appendChild=function(a,b){a.appendChild(b)};
g.append=function(a,b){var c=a;z(c,"Node cannot be null or undefined.");Nb(9==c.nodeType?c:c.ownerDocument||c.document,a,arguments)};g.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
g.removeNode=Ob;g.getChildren=function(a){return Hb&&void 0!=a.children?a.children:Ba(a.childNodes,function(a){return 1==a.nodeType})};g.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};var G=function(){this.aa=this.aa;this.ha=this.ha};G.prototype.aa=!1;G.prototype.dispose=function(){this.aa||(this.aa=!0,this.B())};G.prototype.B=function(){if(this.ha)for(;this.ha.length;)this.ha.shift()()};var Qb=!C||9<=Number(ob),Rb=C&&!nb("9"),Sb=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{m.addEventListener("test",ja,b),m.removeEventListener("test",ja,b)}catch(c){}return a}();var H=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.J=!1;this.ab=!0};H.prototype.stopPropagation=function(){this.J=!0};H.prototype.preventDefault=function(){this.defaultPrevented=!0;this.ab=!1};var I=function(a,b){H.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.G=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(fb){a:{try{ab(b.nodeName);
var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=gb||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=gb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,
this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType=q(a.pointerType)?a.pointerType:Tb[a.pointerType]||"";this.state=a.state;this.G=a;a.defaultPrevented&&this.preventDefault()}};x(I,H);var Tb=qb({2:"touch",3:"pen",4:"mouse"});
I.prototype.stopPropagation=function(){I.w.stopPropagation.call(this);this.G.stopPropagation?this.G.stopPropagation():this.G.cancelBubble=!0};I.prototype.preventDefault=function(){I.w.preventDefault.call(this);var a=this.G;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Rb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Ub="closure_listenable_"+(1E6*Math.random()|0),Vb=function(a){return!(!a||!a[Ub])},Wb=0;var Xb=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.ba=e;this.key=++Wb;this.removed=this.$=!1},Yb=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.ba=null};var J=function(a){this.src=a;this.s={};this.Y=0};J.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.s[f];a||(a=this.s[f]=[],this.Y++);var h=Zb(a,b,d,e);-1<h?(b=a[h],c||(b.$=!1)):(b=new Xb(b,this.src,f,!!d,e),b.$=c,a.push(b));return b};J.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.s))return!1;var e=this.s[a];b=Zb(e,b,c,d);return-1<b?(Yb(e[b]),z(null!=e.length),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.s[a],this.Y--),!0):!1};
var $b=function(a,b){var c=b.type;c in a.s&&Da(a.s[c],b)&&(Yb(b),0==a.s[c].length&&(delete a.s[c],a.Y--))};J.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.s)if(!a||c==a){for(var d=this.s[c],e=0;e<d.length;e++)++b,Yb(d[e]);delete this.s[c];this.Y--}return b};J.prototype.O=function(a,b,c,d){a=this.s[a.toString()];var e=-1;a&&(e=Zb(a,b,c,d));return-1<e?a[e]:null};
J.prototype.hasListener=function(a,b){var c=n(a),d=c?a.toString():"",e=n(b);return Wa(this.s,function(a){for(var f=0;f<a.length;++f)if(!(c&&a[f].type!=d||e&&a[f].capture!=b))return!0;return!1})};var Zb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.ba==d)return e}return-1};var ac="closure_lm_"+(1E6*Math.random()|0),bc={},cc=0,K=function(a,b,c,d,e){if(d&&d.once)return dc(a,b,c,d,e);if(r(b)){for(var f=0;f<b.length;f++)K(a,b[f],c,d,e);return null}c=ec(c);return Vb(a)?a.listen(b,c,t(d)?!!d.capture:!!d,e):fc(a,b,c,!1,d,e)},fc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=t(e)?!!e.capture:!!e,p=gc(a);p||(a[ac]=p=new J(a));c=p.add(b,c,d,h,f);if(c.proxy)return c;d=hc();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Sb||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),
d,e);else if(a.attachEvent)a.attachEvent(ic(b.toString()),d);else if(a.addListener&&a.removeListener)z("change"===b,"MediaQueryList only has a change event"),a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");cc++;return c},hc=function(){var a=jc,b=Qb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},dc=function(a,b,c,d,e){if(r(b)){for(var f=0;f<b.length;f++)dc(a,b[f],c,d,e);return null}c=ec(c);return Vb(a)?
a.Wa(b,c,t(d)?!!d.capture:!!d,e):fc(a,b,c,!0,d,e)},kc=function(a,b,c,d,e){if(r(b))for(var f=0;f<b.length;f++)kc(a,b[f],c,d,e);else d=t(d)?!!d.capture:!!d,c=ec(c),Vb(a)?a.Da(b,c,d,e):a&&(a=gc(a))&&(b=a.O(b,c,d,e))&&lc(b)},lc=function(a){if("number"!=typeof a&&a&&!a.removed){var b=a.src;if(Vb(b))$b(b.v,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(ic(c),d):b.addListener&&b.removeListener&&b.removeListener(d);cc--;(c=gc(b))?($b(c,
a),0==c.Y&&(c.src=null,b[ac]=null)):Yb(a)}}},ic=function(a){return a in bc?bc[a]:bc[a]="on"+a},nc=function(a,b,c,d){var e=!0;if(a=gc(a))if(b=a.s[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=mc(f,d),e=e&&!1!==f)}return e},mc=function(a,b){var c=a.listener,d=a.ba||a.src;a.$&&lc(a);return c.call(d,b)},jc=function(a,b){if(a.removed)return!0;if(!Qb){var c=b||ia("window.event");b=new I(c,this);var d=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var e=!1;
if(0==c.keyCode)try{c.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==c.returnValue)c.returnValue=!0}c=[];for(e=b.currentTarget;e;e=e.parentNode)c.push(e);a=a.type;for(e=c.length-1;!b.J&&0<=e;e--){b.currentTarget=c[e];var f=nc(c[e],a,!0,b);d=d&&f}for(e=0;!b.J&&e<c.length;e++)b.currentTarget=c[e],f=nc(c[e],a,!1,b),d=d&&f}return d}return mc(a,new I(b,this))},gc=function(a){a=a[ac];return a instanceof J?a:null},oc="__closure_events_fn_"+(1E9*Math.random()>>>0),ec=function(a){z(a,"Listener can not be null.");
if(ma(a))return a;z(a.handleEvent,"An object listener must have handleEvent method.");a[oc]||(a[oc]=function(b){return a.handleEvent(b)});return a[oc]};var L=function(){G.call(this);this.v=new J(this);this.eb=this;this.za=null};x(L,G);L.prototype[Ub]=!0;g=L.prototype;g.addEventListener=function(a,b,c,d){K(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){kc(this,a,b,c,d)};
g.dispatchEvent=function(a){pc(this);var b=this.za;if(b){var c=[];for(var d=1;b;b=b.za)c.push(b),z(1E3>++d,"infinite loop")}b=this.eb;d=a.type||a;if(q(a))a=new H(a,b);else if(a instanceof H)a.target=a.target||b;else{var e=a;a=new H(d,b);Za(a,e)}e=!0;if(c)for(var f=c.length-1;!a.J&&0<=f;f--){var h=a.currentTarget=c[f];e=qc(h,d,!0,a)&&e}a.J||(h=a.currentTarget=b,e=qc(h,d,!0,a)&&e,a.J||(e=qc(h,d,!1,a)&&e));if(c)for(f=0;!a.J&&f<c.length;f++)h=a.currentTarget=c[f],e=qc(h,d,!1,a)&&e;return e};
g.B=function(){L.w.B.call(this);this.v&&this.v.removeAll(void 0);this.za=null};g.listen=function(a,b,c,d){pc(this);return this.v.add(String(a),b,!1,c,d)};g.Wa=function(a,b,c,d){return this.v.add(String(a),b,!0,c,d)};g.Da=function(a,b,c,d){this.v.remove(String(a),b,c,d)};
var qc=function(a,b,c,d){b=a.v.s[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var p=h.listener,uc=h.ba||h.src;h.$&&$b(a.v,h);e=!1!==p.call(uc,d)&&e}}return e&&0!=d.ab};L.prototype.O=function(a,b,c,d){return this.v.O(String(a),b,c,d)};L.prototype.hasListener=function(a,b){return this.v.hasListener(n(a)?String(a):void 0,b)};var pc=function(a){z(a.v,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var rc=function(a,b,c){if(ma(a))c&&(a=u(a,c));else if(a&&"function"==typeof a.handleEvent)a=u(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:m.setTimeout(a,b||0)};var sc=!1,tc="[Innovation Logger]";w("common.utils.logger.setEnabled",function(a){sc=a});w("common.utils.logger.setPrefix",function(a){tc="["+a+"]"});w("common.utils.logger.error",function(a,b){sc&&([].unshift.call(arguments,tc),console.error.apply(console,arguments))});var M=function(a,b){sc&&([].unshift.call(arguments,tc),console.log.apply(console,arguments))};w("common.utils.logger.log",M);var vc=function(a,b){sc&&([].unshift.call(arguments,tc),console.warn.apply(console,arguments))};
w("common.utils.logger.warn",vc);var N=function(){L.call(this);this.Ga=studio.Enabler.getInstance();this.id="";this.l=this.type=this.path=null;this.R={}};x(N,L);g=N.prototype;g.addPropertyChangeListener=function(a,b){var c=function(a){M("[propertyChangeHandler] "+this.path+" - "+b+": "+a)}.bind(this);studio.sdk.configurable.binding.addPropertyChangeListener(a,b,c);this.R[b]=c};g.counter=function(a){M("["+this.getPath()+"] counter: "+a);studio.sdk.configurable.counter(this.l,a)};
g.destroy=function(){M("[destroy] id: "+this.path+" - type: "+this.type);this.unregister()};g.exit=function(a,b){M("["+this.getPath()+"] exit: "+a);/^[\s\xa0]*$/.test(null==b?"":String(b))?studio.sdk.configurable.exit(this.l,a):studio.sdk.configurable.exit(this.l,a,b)};g.getId=function(){return this.id};g.getPath=function(){return this.path};g.getType=function(){return this.type};
var wc=function(a,b){var c=typeof b;return"string"==c||"number"==c||"boolean"==c||void 0==b||n(b["@type"])&&"color"==b["@type"].toLowerCase()||n(b["@type"])&&"url"==b["@type"].toLowerCase()||n(b["@value"])&&wc(a,b["@value"])};g=N.prototype;
g.register=function(a,b,c){if(t(a)){this.l&&this.unregister();this.l=a[b];this.id=c||this.l["@id"];this.path=studio.sdk.configurable.config.getPath(this.l);this.type=studio.sdk.configurable.config.getType(this.l);for(var d in this.l)wc(this,this.l[d])&&"@id"!=d&&this.addPropertyChangeListener.call(this,a[b],d);M("[register] id: "+this.path+" - type: "+this.type)}};g.removePropertyChangeListener=function(a,b){studio.sdk.configurable.binding.removePropertyChangeListener(a,b,this.R[b])};
g.showFiller=function(a,b){null!=b||(b=!0);var c=this.path;null===a||(c+="."+a);b?studio.sdk.configurable.showFiller(c):studio.sdk.configurable.hideFiller(c)};g.startTimer=function(a){M("["+this.getPath()+"] startTimer: "+a);studio.sdk.configurable.startTimer(this.l,a)};g.stopTimer=function(a){M("["+this.getPath()+"] stopTimer: "+a);studio.sdk.configurable.stopTimer(this.l,a)};
g.unregister=function(){if(this.l){M("[unregister] id: "+this.path+" - type: "+this.type);var a=this.l,b;for(b in this.l)wc(this,this.l[b])&&"@id"!=b&&this.removePropertyChangeListener.call(this,a,b);this.id="";this.l=this.type=this.path=null}};var xc=function(a){N.call(this);this.ib=q(a)?document.getElementById(a):a};x(xc,N);var O=function(a,b,c){xc.call(this,a);this.Aa=[];this.o=null;this.X=b;this.Ea=this.la=-1;this.N=c};x(O,xc);var yc={};g=O.prototype;g.destroy=function(){O.w.destroy.call(this);zc(this)};g.prepare=function(){this.o.prepare()};g.activate=function(){null==this.o||this.o.getIsActive()||(this.o.activate(),this.Ea=v(),0<this.N?(m.clearTimeout(this.la),this.la=rc(u(this.bb,this,!1),this.N)):this.o.stopAnimation())};g.deactivate=function(){null!=this.o&&this.o.getIsActive()&&this.bb(!0)};
g.invalidateSize=function(){this.o.invalidateSize()};g.register=function(a,b,c){O.w.register.call(this,a,b,c);this.update()};g.Cb=function(a,b){var c=a.type;"Element interacted"==c&&this.dispatchEvent("userinteracted");a.genericEngagement&&this.dispatchEvent("genericengagement");Xa(ta,c)||Xa(sa,c)?Gb(c,a.gen204_params||{}):Xa(ra,a.type)||studio.sdk.configurable.counter(b,a.type,!a.deDupe)};g.gb=function(a){this.dispatchEvent("userinteracted");Enabler.exitOverride(a.type,a.href)};
g.wb=function(a){Enabler.invokeExternalJsFunction("googlecreative.reporting.sharedReporter.reportEvents(["+JSON.stringify({unifiedReportingEvent:{type:"CUSTOM_EVENT",name:a.type},count:1})+"]);")};g.Lb=function(){for(;this.Aa.length;){var a=this.Aa.shift();studio.video.Reporter.attach(a.id,a.video,!0)}};
g.Kb=function(a){var b=a.id;a=a.video;studio.video&&studio.video.Reporter?studio.video.Reporter.attach(b,a,!0):(this.Aa.push({id:b,video:a}),Enabler.loadModule(studio.module.ModuleId.VIDEO,u(this.Lb,this)))};
g.update=function(){zc(this);var a={};a[tetris.factory.RenderPresenterArg.DATA]=this.l;a[tetris.factory.RenderPresenterArg.PARENT_EL]=this.ib;a[tetris.factory.RenderPresenterArg.PRESENTER_TYPE]=this.X;a[tetris.factory.RenderPresenterArg.GET_TYPE_FN]=studio.sdk.configurable.config.getType;a[tetris.factory.RenderPresenterArg.HANDLE_PINGBACK_FN]=u(this.Cb,this);a[tetris.factory.RenderPresenterArg.HANDLE_CLICK_THROUGH_FN]=u(this.gb,this);a[tetris.factory.RenderPresenterArg.HANDLE_LATENCY_FN]=u(this.wb,
this);a[tetris.factory.RenderPresenterArg.RESOLVE_URL_FN]=u(this.Ga.getUrl,this.Ga);a[tetris.factory.RenderPresenterArg.HANDLE_VIDEO_CREATED_FN]=u(this.Kb,this);this.o=tetris.factory.renderPresenter(a);null==yc[this.X]&&(yc[this.X]=[]);yc[this.X].push(this.o);this.dispatchEvent("updated")};g.bb=function(a){this.o.getIsAnimating()&&(m.clearTimeout(this.la),a?this.o.deactivate():this.o.stopAnimation(),0<this.N&&(a=v()-this.Ea,this.N-=a))};
var zc=function(a){null!=a.o&&(m.clearTimeout(a.la),a.deactivate(),Ob(a.o.getElement()),Da(yc[a.X],a.o),a.o.dispose(),a.o=null)};w("presenters",yc);var P=function(){N.call(this)};x(P,N);P.prototype.destroy=function(){P.w.destroy.call(this);tetris.themer.uninstall()};P.prototype.register=function(a,b,c){P.w.register.call(this,a,b,c);tetris.themer.uninstall();a=this.l.common;tetris.themer.install(a.theme,a.fontFamily,a.fontStyle,a.fontWeight,a.fontLockerFontName)};var Ac=function(){this.ja=void 0},Bc=function(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(r(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],Bc(a,a.ja?a.ja.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),Cc(d,c),c.push(":"),Bc(a,a.ja?a.ja.call(b,d,e):e,c),
f=","));c.push("}");return}}switch(typeof b){case "string":Cc(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}},Dc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Ec=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,Cc=function(a,b){b.push('"',a.replace(Ec,
function(a){var b=Dc[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),Dc[a]=b);return b}),'"')};var Q=function(){L.call(this)};x(Q,L);Q.ya=void 0;Q.getInstance=function(){return Q.ya?Q.ya:Q.ya=new Q};
var Fc=parseInt(1E4*Math.random(),10).toString(),Gc=["touchstart","touchend","click","mousedown","mouseup"],Ic=function(a){Enabler.invokeExternalJsFunction("CreativeToolset.internals.enableRemoteEvents(true);");K(document.body,Gc,function(a){Enabler.invokeExternalJsFunction('(function(e) {var sink = CreativeToolset.internals.creativeBodyRemoteEventSink;if (typeof sink == "function") { sink(e); }})('+Hc(a)+")")},!1,a)},Hc=function(a){var b=a.G,c={type:b.type,ctrlKey:b.ctrlKey,shiftKey:b.shiftKey,altKey:b.altKey,
metaKey:b.metaKey,timeStamp:b.timeStamp||v()};switch(a.type){case "touchstart":case "touchend":Za(c,{touches:Jc(b.touches),targetTouches:Jc(b.targetTouches),changedTouches:Jc(b.changedTouches)});break;case "click":case "mousedown":case "mouseup":Za(c,{screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY,button:b.button,buttons:b.buttons})}a=[];Bc(new Ac,c,a);return a.join("")},Jc=function(a){return null!==a&&n(a)?Ca(a,function(a){return{identifier:a.identifier,screenX:a.screenX,
screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,pageX:a.pageX,pageY:a.pageY,radiusX:a.radiusX,radiusY:a.radiusY,force:a.force}}):[]};Q.prototype.ra=function(){clearInterval(this.tb);kc(window,"message",this.Xa,!1,this);this.dispatchEvent("init")};Q.prototype.Xa=function(a){(a=a.G)&&a.origin&&-1<a.origin.indexOf("adspreview.googleusercontent.com")?this.ra():a&&a.data&&a.data.seed==Fc&&null!=a.data.ctp&&this.ra()};var Lc=function(){return!Kc()&&(B("iPod")||B("iPhone")||B("Android")||B("IEMobile"))},Kc=function(){return B("iPad")||B("Android")&&!B("Mobile")||B("Silk")};var Nc=function(a){var b={cursor:"pointer",position:"absolute",zIndex:1E3,top:0,right:0};if(q(b))(b=Mc(a,b))&&(a.style[b]=void 0);else for(var c in b){var d=a,e=b[c],f=Mc(d,c);f&&(d.style[f]=e)}},Oc={},Mc=function(a,b){var c=Oc[b];if(!c){var d=Ra(b);c=d;void 0===a.style[d]&&(d=(gb?"Webkit":fb?"Moz":C?"ms":db?"O":null)+Sa(d),void 0!==a.style[d]&&(c=d));Oc[b]=c}return c};var R=function(a,b,c){L.call(this);this.K=document.getElementById(a);this.ua=document.getElementById(b);if(!this.K||!this.ua)throw"[FullExpansionController] Invalid collapsed/expanded element ID";this.La=c||"hover_or_click";this.Ra=this.I=this.T=!1;this.M=new Kb(0,0);this.Ma=this.Na=void 0;this.Ba=this.Ca=-1;this.fa=this.ga=this.U=!1;a=studio.common.Environment;this.Sa=a.hasType(a.Type.LOCAL);this.ca=Mb();this.Sa&&(a=document.createElement("IMG"),a.src="https://pagead2.googlesyndication.com/pagead/bf/images/close_circle.png",
Nc(a),K(a,"click",function(){this.T=!0;window.setTimeout(u(function(){this.T=!1},this),2E3);this.Pa()},!1,this),this.ua.appendChild(a));Pc(this,!1);Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_SUPPORT,this.Gb,!1,this);Enabler.addEventListener(studio.events.StudioEvent.ABOUT_TO_EXPAND,this.cb,!1,this);K(Enabler,studio.events.StudioEvent.FULLSCREEN_EXPAND_START,this.Ka,!1,this);K(Enabler,studio.events.StudioEvent.FULLSCREEN_COLLAPSE_START,this.pa,!1,this);K(Enabler,studio.events.StudioEvent.FULLSCREEN_COLLAPSE_FINISH,
this.oa,!1,this);$a()&&studio.common.Environment.hasType(studio.common.Environment.Type.IN_APP)||K(Enabler,studio.events.StudioEvent.EXIT,this.Pa,!1,this);Qc()};x(R,L);
var Rc=14/9,Sc=1/Rc,Tc=function(a){var b=-(a.ca.width/2)+"px",c=-(a.ca.height/2)+"px";var d='studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.position="absolute";studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.left="50%";studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.top="50%";'+('studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.marginLeft="'+b+'";')+('studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.marginTop="'+
c+'";')+'studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.position="absolute";';d+='studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.left="50%";';d+='studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.top="50%";';d=d+('studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.marginLeft="'+b+'";')+('studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.marginTop="'+
c+'";')+'studioV2.api.creatives[0].getAssets()[0].getContainerElement().parentNode.style.position="relative";';d+='studioV2.api.creatives[0].getAssets()[0].getContainerElement().parentNode.style.width="'+a.ca.width+'px";';d+='studioV2.api.creatives[0].getAssets()[0].getContainerElement().parentNode.style.height="'+a.ca.height+'px";';Enabler.invokeExternalJsFunction(d)};g=R.prototype;
g.enableExpansion=function(a,b){this.Na=a;this.Ma=b;this.U=null!=a&&null!=b;Enabler.isInitialized()?(this.U||$a()||Enabler.setResponsiveExpanding(!0),Enabler.queryFullscreenSupport()):K(Enabler,studio.events.StudioEvent.INIT,function(){this.U||$a()||Enabler.setResponsiveExpanding(!0);Enabler.queryFullscreenSupport()},!1,this)};g.Ka=function(){this.ga=!1;Pc(this,!0);Enabler.counter("Lightbox Expand",!0);Enabler.startTimer("Lightbox Expansion Timer");Enabler.finishFullscreenExpand()};g.Pa=function(){Enabler.requestFullscreenCollapse()};
g.pa=function(){Uc(this)};g.oa=function(){this.I&&Uc(this);Qc()};g.isExpanded=function(){return this.I};var Uc=function(a){Enabler.counter("Lightbox Collapse",!0);Enabler.stopTimer("Lightbox Expansion Timer");Pc(a,!1)},Qc=function(){Enabler.invokeExternalJsFunction('studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.overflow="visible"')};
R.prototype.ka=function(){if(!this.I&&!this.T)if(this.U||this.fa){this.ga&&this.Fa();if(this.U)var a=this.Na,b=this.Ma;else b=Vc(this.M.width,this.M.height),a=b.width,b=b.height;a&&b&&(this.Ca=a,this.Ba=b);Enabler.requestFullscreenExpand(a,b);this.ga=!0;this.dispatchEvent("requestExpand")}else this.fa=!0,Enabler.queryFullscreenDimensions()};var Vc=function(a,b){var c=a,d=b,e=a/b;e>Rc?c=b*Rc:e<Sc&&(d=a/Sc);return new Kb(c,d)};R.prototype.Fa=function(){this.ga=!1;this.dispatchEvent("cancelExpand")};
var Pc=function(a,b){a.ua.style.left=b?"0":"-9999px";a.I=b;a.I?a.K.style.display="none":rc(function(){this.K.style.display="";Enabler.finishFullscreenCollapse()},0,a)};R.prototype.cb=function(){this.ka()};R.prototype.Gb=function(a){if(this.Ra=a.supported)Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_DIMENSIONS,this.Eb,!1,this),Enabler.queryFullscreenDimensions()};
R.prototype.Eb=function(a){this.M.width=a.width;this.M.height=a.height;if(this.I){dc(window,"resize",u(function(){this.I&&this.Ka()},this));var b=Vc(this.M.width,this.M.height);a=b.width;b=b.height;if(a!=this.Ca||b!=this.Ba)Enabler.setResponsiveSize(a,b),this.Ca=a,this.Ba=b}else"hover"!=this.La&&K(this.K,"click",this.ka,!1,this),Lc()||Kc()||"click"==this.La||K(this.K,"mouseenter",this.ka,!1,this),this.Sa||K(this.K,"mouseleave",this.Fa,!1,this),Tc(this),this.dispatchEvent("ready"),this.fa&&(this.ka(),
this.fa=!1)};var Wc=function(a,b,c){H.call(this,a);this.visibilityParams=b.visibilityParams;this.isFirstEvent=c};x(Wc,H);w("studioinnovation.visibility.VisibilityEvent",Wc);var S=function(a){L.call(this);this.Hb=a||1500;this.xb=v();this.Qa=this.va=!1;Enabler.addEventListener("visibilityChangeWithInfo",u(this.rb,this));rc(u(this.yb,this),this.Hb)};x(S,L);w("studioinnovation.visibility.OsdBroadcaster.IS_FIRST_EVENT_KEY","isFirstEvent");w("studioinnovation.visibility.OsdBroadcaster.VISIBILITY_PARAMS_KEY","visibilityParams");
w("studioinnovation.visibility.OsdBroadcaster.VISIBILITY_FRACTION_KEY","visibilityFraction");w("studioinnovation.visibility.OsdBroadcaster.VISIBLE_BOX_KEY","visibleBox");w("studioinnovation.visibility.OsdBroadcaster.VISIBLITY_CHANGE_WITH_INFO_STUDIO_EVENT_TYPE","visibilityChangeWithInfo");S.prototype.rb=function(a){this.Qa&&vc("OsdBroadcaster received an osd message after declaringitself disconnected.");a=new Wc("innovationvisibilitychange",a,!this.va);this.va=!0;this.dispatchEvent(a)};
S.prototype.yb=function(){this.va||(this.Qa=!0,this.dispatchEvent(new H("innovationvisibilitytimeout")))};S.prototype.nb=function(){return this.xb};S.prototype.getLoadTime=S.prototype.nb;var Xc="StopIteration"in m?m.StopIteration:{message:"StopIteration",stack:""},Yc=function(){};Yc.prototype.next=function(){throw Xc;};Yc.prototype.ma=function(){return this};var T=function(a,b){this.m={};this.j=[];this.Z=this.D=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};T.prototype.P=function(){Zc(this);for(var a=[],b=0;b<this.j.length;b++)a.push(this.m[this.j[b]]);return a};var $c=function(a){Zc(a);return a.j.concat()};T.prototype.da=function(){return 0==this.D};T.prototype.clear=function(){this.m={};this.Z=this.D=this.j.length=0};
T.prototype.remove=function(a){return U(this.m,a)?(delete this.m[a],this.D--,this.Z++,this.j.length>2*this.D&&Zc(this),!0):!1};var Zc=function(a){if(a.D!=a.j.length){for(var b=0,c=0;b<a.j.length;){var d=a.j[b];U(a.m,d)&&(a.j[c++]=d);b++}a.j.length=c}if(a.D!=a.j.length){var e={};for(c=b=0;b<a.j.length;)d=a.j[b],U(e,d)||(a.j[c++]=d,e[d]=1),b++;a.j.length=c}};g=T.prototype;g.get=function(a,b){return U(this.m,a)?this.m[a]:b};
g.set=function(a,b){U(this.m,a)||(this.D++,this.j.push(a),this.Z++);this.m[a]=b};g.addAll=function(a){if(a instanceof T)for(var b=$c(a),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};g.forEach=function(a,b){for(var c=$c(this),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new T(this)};
g.ma=function(a){Zc(this);var b=0,c=this.Z,d=this,e=new Yc;e.next=function(){if(c!=d.Z)throw Error("The map has changed since the iterator was created");if(b>=d.j.length)throw Xc;var e=d.j[b++];return a?e:d.m[e]};return e};var U=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var ad=function(a){if(a.P&&"function"==typeof a.P)return a.P();if(q(a))return a.split("");if(la(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}b=[];c=0;for(d in a)b[c++]=a[d];return b};var bd={Sb:!0},cd={Tb:!0},dd=function(){throw Error("Do not instantiate directly");};dd.prototype.getContent=function(){return this.content};dd.prototype.toString=function(){return this.content};var ed=function(){dd.call(this)};x(ed,dd);ed.prototype.qa=bd;var gd=function(){var a=fd({ub:"invitation",jb:"cta",lb:"expanded"},void 0,void 0);if(!t(a))return String(a);if(a instanceof dd){if(a.qa===bd)return ya(a.getContent());if(a.qa===cd)return Pa(a.getContent())}xa("Soy template output is unsafe for use as HTML: "+a);return"zSoyz"};var V=function(a){G.call(this);this.wa=a;this.j={}};x(V,G);var hd=[];V.prototype.listen=function(a,b,c,d){r(b)||(b&&(hd[0]=b.toString()),b=hd);for(var e=0;e<b.length;e++){var f=K(a,b[e],c||this.handleEvent,d||!1,this.wa||this);if(!f)break;this.j[f.key]=f}return this};V.prototype.Wa=function(a,b,c,d){return id(this,a,b,c,d)};var id=function(a,b,c,d,e,f){if(r(c))for(var h=0;h<c.length;h++)id(a,b,c[h],d,e,f);else{b=dc(b,c,d||a.handleEvent,e,f||a.wa||a);if(!b)return a;a.j[b.key]=b}return a};
V.prototype.Da=function(a,b,c,d,e){if(r(b))for(var f=0;f<b.length;f++)this.Da(a,b[f],c,d,e);else c=c||this.handleEvent,d=t(d)?!!d.capture:!!d,e=e||this.wa||this,c=ec(c),d=!!d,b=Vb(a)?a.O(b,c,d,e):a?(a=gc(a))?a.O(b,c,d,e):null:null,b&&(lc(b),delete this.j[b.key])};V.prototype.removeAll=function(){Va(this.j,function(a,b){this.j.hasOwnProperty(b)&&lc(a)},this);this.j={}};V.prototype.B=function(){V.w.B.call(this);this.removeAll()};
V.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var jd=function(a){this.m=new T;a&&this.addAll(a)},kd=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[na]||(a[na]=++oa)):b.substr(0,1)+a};g=jd.prototype;g.add=function(a){this.m.set(kd(a),a)};g.addAll=function(a){a=ad(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};g.removeAll=function(a){a=ad(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};g.remove=function(a){return this.m.remove(kd(a))};g.clear=function(){this.m.clear()};g.da=function(){return this.m.da()};
g.contains=function(a){a=kd(a);return U(this.m.m,a)};g.P=function(){return this.m.P()};g.clone=function(){return new jd(this)};g.ma=function(){return this.m.ma(!1)};var W=function(a,b){L.call(this);this.sa=[];this.Ib=!!b;this.ta=new V(this);this.vb=window.parent!=window;if(a)if(r(a))for(b=0;b<a.length;b++)ld(this,a[b].F);else ld(this,a.F);else a=ua||(ua=new Pb),ld(this,a.F);this.Ta=v()};x(W,L);W.prototype.Ya=0;var md=["click","dblclick","mousedown","mousemove","mouseup"],nd=["touchend","touchmove","touchstart"],od=["keydown","keyup"];W.prototype.B=function(){W.w.B.call(this);this.ta.dispose();this.ta=null;delete this.sa};
var ld=function(a,b){if(!(0<=za(a.sa,b))){a.sa.push(b);var c=!a.Ib,d=Ea(od,md);a.vb||Ga(d,nd);a.ta.listen(b,d,a.qb,c)}};W.prototype.qb=function(a){var b=!1;switch(a.type){case "mousemove":if("number"==typeof this.Ua&&this.Ua!=a.clientX||"number"==typeof this.Va&&this.Va!=a.clientY)b=!0;this.Ua=a.clientX;this.Va=a.clientY;break;default:b=!0}b&&(ya(a.type),pd(this))};var pd=function(a){var b=v();a.Ta=b;b>a.Ya&&(a.dispatchEvent("activity"),a.Ya=b+3E3)};var Y=function(a,b){L.call(this);b||(qd.add(this),null==X&&(X=new W),b=X);this.sb=a;this.C=b;this.fb=u(this.Ab,this);rd(this)};x(Y,L);Y.prototype.xa=!1;var X=Y.prototype.W=null,qd=new jd,rd=function(a){var b=a.sb+1-(v()-a.C.Ta);0<b?a.W=rc(a.fb,b):(K(a.C,"activity",a.$a,!1,a),a.xa=!0,a.dispatchEvent("idle"))};Y.prototype.Ab=function(){this.W=null;rd(this)};Y.prototype.$a=function(){sd(this);this.dispatchEvent("active");rd(this)};var sd=function(a){a.xa&&(kc(a.C,"activity",a.$a,!1,a),a.xa=!1)};
Y.prototype.B=function(){sd(this);null!=this.W&&(m.clearTimeout(this.W),this.W=null);qd.remove(this);null!=X&&qd.da()&&(X.dispose(),X=null);Y.w.B.call(this)};var xd=function(a){return null!=a&&a.qa===bd?(z(a.constructor===ed),String(String(a.getContent()).replace(td,"").replace(ud,"&lt;")).replace(vd,wd)):Pa(String(a))},yd={"\x00":"&#0;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},wd=function(a){return yd[a]},vd=/[\x00\x22\x27\x3c\x3e]/g,td=
/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,ud=/</g;var fd=function(a){return'<div id="'+xd(a.ub)+'" class="view-container"><div id="'+xd(a.jb)+'" class="view-container"></div><div id="'+xd(a.Pb)+'" class="view-container"></div></div><div id="'+xd(a.lb)+'" class="view-container" style="width:100%; height: 100%;"></div>'};fd.Ub="studioinnovation.layouts.lightbox.tetris.templates.creative";var Z=function(){var a=document.body;z(fd,"Soy template may not be null.");var b=gd();if(Jb())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=b;this.tetris=this.A=this.themer=null;this.L=!1;this.u=this.Ia=this.H=null;this.Bb=F(S,3E4);this.ea=!0;ia("studio.sdk.gdn")?studio.sdk.gdn.getInitializedConfigByCallback(u(this.hb,this)):zd(this)};g=Z.prototype;
g.hb=function(a){var b=a.getActiveExperimentLabels(),c=(a.getClientEnvironment()||{}).language,d=(a.getClientEnvironment()||{}).browserClass,e={};e[tetris.config.Field.ACTIVE_EXPERIMENTS]=b||[];e[tetris.config.Field.LOCALE]=c||"en-US";e[tetris.config.Field.BROWSER_CLASS]=d||(Lc()||Kc()?studio.common.Environment.hasType(studio.common.Environment.Type.IN_APP)?tetris.config.BrowserClass.IN_APP:tetris.config.BrowserClass.MOBILE_WEB:tetris.config.BrowserClass.DESKTOP);tetris.config.set(e);this.Ia=rc(u(this.Ha,
this,null),2E3);a.retrieveCurrentEngagementState(u(this.Ha,this))};g.Ha=function(a){m.clearTimeout(this.Ia);null!=a?this.L=a==studio.sdk.gdn.EngagementPhase.INVITATION_LARGE_CANVAS:Gb("engagement_state_failure",{});zd(this)};g.Jb=function(){this.L&&Enabler.counter("GENERIC_ENGAGEMENT");null!=this.u&&null!=this.u.C&&pd(this.u.C)};g.mb=function(){Enabler.counter("GENERIC_ENGAGEMENT");null!=this.u&&null!=this.u.C&&pd(this.u.C)};g.Mb=function(){(this.L||this.H.isExpanded())&&this.tetris.activate()};
var zd=function(a){a.themer=F(P);a.tetris=F(O,"expanded",a.L?tetris.factory.PresenterType.INTERSTITIAL:tetris.factory.PresenterType.EXPANDED,24E4);K(a.tetris,"updated",u(a.Mb,a));K(a.tetris,"userinteracted",u(a.Jb,a));a.L||(a.A=F(O,"cta",tetris.factory.PresenterType.INVITATION,3E4),K(a.A,"genericengagement",u(a.mb,a)),a.H=F(R,"invitation","expanded","hover_or_click"),K(a.Bb,"innovationvisibilitychange",u(a.Nb,a)));if(studio.sdk.configurable.getRuntimeMode()==studio.sdk.configurable.RUNTIME_MODE.TRAFFICK){var b=
Q.getInstance();dc(b,"init",a.Oa,!1,a);K(window,"message",b.Xa,!1,b);a=window.document.location.origin;a='(function(seed, origin){window.Creative = {};window.Creative.seed = seed;window.Creative.targetOrigin = origin;var s = document.createElement("script");s.src = "'+Enabler.getUrl("https://www.gstatic.com/doubleclick/studio/innovation/h5/layouts/creativeproxy/1/creativeproxy_min.js")+'";var t = document.getElementsByTagName("script")[0];t.parentNode.insertBefore(s, t);})("'+Fc+'", "'+a+'")';b.tb=
setInterval(b.ra.bind(b),2500);Enabler.invokeExternalJsFunction(a);window.disableEventBubbling||Ic(b)}else a.Oa()};Z.prototype.Db=function(){$a()&&tetris.config.getNumber(tetris.config.Field.BROWSER_CLASS,tetris.config.BrowserClass.DESKTOP)==tetris.config.BrowserClass.IN_APP||this.tetris.prepare()};var Ad=function(a){null!==a.u&&(a.u.dispose(),a.u=null)};g=Z.prototype;
g.kb=function(){this.tetris.activate();Ad(this);tetris.config.isEnabled(tetris.config.Experiment.LOG_IDLE_IN_TETRIS)&&(this.u=F(Y,5E3),this.u.listen("idle",this.pb,!1,this),this.u.listen("active",this.ob,!1,this))};g.pb=function(){Gb("tetris_became_idle",{})};g.ob=function(){Gb("tetris_became_active",{})};g.pa=function(){this.tetris.deactivate();Ad(this)};g.oa=function(){this.A.invalidateSize()};
g.Nb=function(a){a=a.visibilityParams.visibilityFraction;!this.ea&&.5<=a?(this.ea=!0,Bd(this)):this.ea&&.5>a&&(this.ea=!1,this.H&&(this.H.T=!0),this.A&&this.A.deactivate())};var Bd=function(a){a.H&&(a.H.T=!1);a.A&&a.A.activate()};
Z.prototype.Oa=function(){this.L||(this.H.enableExpansion(),Enabler.addEventListener(studio.events.StudioEvent.ABOUT_TO_EXPAND,this.Db,!1,this),Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_EXPAND_FINISH,this.kb,!1,this),Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_COLLAPSE_START,this.pa,!1,this),Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_COLLAPSE_FINISH,this.oa,!1,this));studio.sdk.configurable.getConfiguration(u(this.Fb,this))};
Z.prototype.Fb=function(a){studio.sdk.configurable.setTranslationMethod(ia("GdnPreview.getConfig"));Cd(this,a);studio.sdk.configurable.binding.addValueChangeListener(a,u(Ib(function(){Cd(this,a)},this),this))};var Cd=function(a,b){a.themer.register(b,"tetris",1);a.tetris.register(b,"tetris",2);null!=a.A&&a.A.register(b,"tetris",3);Bd(a)};w("studioinnovation.layouts.lightbox.tetris.Tetris",Z);}).call(this);
